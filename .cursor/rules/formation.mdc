---
description: 
globs: 
alwaysApply: false
---
I would like you to help me set up a feature, I already have the database tables planned for it. I have a crud system for training and I have a role system. I would like guest roles to have the ability to request to join a training. They will only be able to request if in the user table their is_profile_completion_acknowledged field is set to 1. Following their request, the recruiter should be able to fetch training requests and see which training they are requesting. They will then be able to accept/reject and add a short comment. If they accept, the guest will change their role to student and they will receive a notification and will be linked to the training in question.

curl --request POST \
--url http://localhost:8000/api/login_check \
--header 'Content-Type: application/json' \
--data '{
"username": "recruiter@bigproject.com",
"password": "Password123@"
}'

You can replace {role} by : student/admin/superadmin/recruiter/guest/hr/teacher

# Liste des formations
curl --request GET \
  --url http://localhost:8000/api/formations \
  --header "Authorization: Bearer <TOKEN>"

# Détail d'une formation
curl --request GET \
  --url http://localhost:8000/api/formations/{id} \
  --header "Authorization: Bearer <TOKEN>"

# Création d'une formation
curl --request POST \
  --url http://localhost:8000/api/formations \
  --header "Authorization: Bearer <TOKEN>" \
  --header "Content-Type: application/json" \
  --data '{
    "name": "Formation Test",
    "promotion": "2025",
    "description": "Description de la formation",
    "specializationId": 12,
    "capacity": 30,
    "duration": 12,
    "dateStart": "2025-09-01",
    "location": "Paris"
  }'

# Modification d'une formation
curl --request PUT \
  --url http://localhost:8000/api/formations/{id} \
  --header "Authorization: Bearer <TOKEN>" \
  --header "Content-Type: application/json" \
  --data '{
    "name": "Formation Modifiée",
    "promotion": "2026",
    "description": "Nouvelle description",
    "specializationId": 12,
    "capacity": 40,
    "duration": 18,
    "dateStart": "2026-01-01",
    "location": "Lyon"
  }'

# Suppression d'une formation
curl --request DELETE \
  --url http://localhost:8000/api/formations/{id} \
  --header "Authorization: Bearer <TOKEN>"

# Upload d'une image d'illustration pour une formation
curl --request POST \
  --url http://localhost:8000/api/formations/{id}/image \
  --header "Authorization: Bearer <TOKEN>" \


  -F "image=@/chemin/vers/ton/image.jpg"



  