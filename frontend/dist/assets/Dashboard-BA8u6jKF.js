import{j as e}from"./ui-B5ZVMT00.js";import{r as t,u as r}from"./router-Cgxi-4fo.js";import{D as n,a as o}from"./DashboardLayout-CUTr60Ea.js";import{d as a}from"./useDashboardQueries-CDn_260v.js";import{f as s,B as i,aw as l,aL as c,a1 as d,o as u,aM as m,C as f,v as h,av as x,j as p,M as g,w as b,aN as v,D as k,k as j,H as w,l as y,n as N,I as S,aO as E,aP as C,aQ as L,t as I,S as A}from"./index-XAN29Is_.js";import{A as D}from"./arrow-left-Bu4oRBut.js";import"./react-0RZ2pslC.js";import"./charts-D4j3G6dB.js";import"./circle-alert-DsiMPx8y.js";import"./query-DUefEkVx.js";function O(e){return function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)||Array.isArray(e)}function R(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;return JSON.stringify(Object.keys(e.breakpoints||{}))===JSON.stringify(Object.keys(t.breakpoints||{}))&&r.every((r=>{const n=e[r],o=t[r];return"function"==typeof n?`${n}`==`${o}`:O(n)&&O(o)?R(n,o):n===o}))}function T(e){return e.concat().sort(((e,t)=>e.name>t.name?1:-1)).map((e=>e.options))}function M(e){return"number"==typeof e}function z(e){return"string"==typeof e}function P(e){return"boolean"==typeof e}function F(e){return"[object Object]"===Object.prototype.toString.call(e)}function V(e){return Math.abs(e)}function H(e){return Math.sign(e)}function $(e,t){return V(e-t)}function U(e){return W(e).map(Number)}function G(e){return e[q(e)]}function q(e){return Math.max(0,e.length-1)}function B(e,t){return t===q(e)}function _(e,t=0){return Array.from(Array(e),((e,r)=>t+r))}function W(e){return Object.keys(e)}function J(e,t){return[e,t].reduce(((e,t)=>(W(t).forEach((r=>{const n=e[r],o=t[r],a=F(n)&&F(o);e[r]=a?J(n,o):o})),e)),{})}function Q(e,t){return void 0!==t.MouseEvent&&e instanceof t.MouseEvent}function X(){let e=[];const t={add:function(r,n,o,a={passive:!0}){let s;if("addEventListener"in r)r.addEventListener(n,o,a),s=()=>r.removeEventListener(n,o,a);else{const e=r;e.addListener(o),s=()=>e.removeListener(o)}return e.push(s),t},clear:function(){e=e.filter((e=>e()))}};return t}function K(e,t,r,n){const o=X(),a=1e3/60;let s=null,i=0,l=0;function c(e){if(!l)return;s||(s=e,r(),r());const o=e-s;for(s=e,i+=o;i>=a;)r(),i-=a;n(i/a),l&&(l=t.requestAnimationFrame(c))}function d(){t.cancelAnimationFrame(l),s=null,i=0,l=0}return{init:function(){o.add(e,"visibilitychange",(()=>{e.hidden&&(s=null,i=0)}))},destroy:function(){d(),o.clear()},start:function(){l||(l=t.requestAnimationFrame(c))},stop:d,update:r,render:n}}function Y(e=0,t=0){const r=V(e-t);function n(t){return t<e}function o(e){return e>t}function a(e){return n(e)||o(e)}return{length:r,max:t,min:e,constrain:function(r){return a(r)?n(r)?e:t:r},reachedAny:a,reachedMax:o,reachedMin:n,removeOffset:function(e){return r?e-r*Math.ceil((e-t)/r):e}}}function Z(e,t,r){const{constrain:n}=Y(0,e),o=e+1;let a=s(t);function s(e){return r?V((o+e)%o):n(e)}function i(){return a}function l(){return Z(e,i(),r)}const c={get:i,set:function(e){return a=s(e),c},add:function(e){return l().set(i()+e)},clone:l};return c}function ee(e,t,r,n,o,a,s,i,l,c,d,u,m,f,h,x,p,g,b){const{cross:v,direction:k}=e,j=["INPUT","SELECT","TEXTAREA"],w={passive:!1},y=X(),N=X(),S=Y(50,225).constrain(f.measure(20)),E={mouse:300,touch:400},C={mouse:500,touch:600},L=h?43:25;let I=!1,A=0,D=0,O=!1,R=!1,T=!1,M=!1;function z(e){if(!Q(e,n)&&e.touches.length>=2)return F(e);const t=a.readPoint(e),r=a.readPoint(e,v),s=$(t,A),l=$(r,D);if(!R&&!M){if(!e.cancelable)return F(e);if(R=s>l,!R)return F(e)}const d=a.pointerMove(e);s>x&&(T=!0),c.useFriction(.3).useDuration(.75),i.start(),o.add(k(d)),e.preventDefault()}function F(e){const t=d.byDistance(0,!1).index!==u.get(),r=a.pointerUp(e)*(h?C:E)[M?"mouse":"touch"],n=function(e,t){const r=u.add(-1*H(e)),n=d.byDistance(e,!h).distance;return h||V(e)<S?n:p&&t?.5*n:d.byIndex(r.get(),0).distance}(k(r),t),o=function(e,t){if(0===e||0===t)return 0;if(V(e)<=V(t))return 0;const r=$(V(e),V(t));return V(r/e)}(r,n),s=L-10*o,i=g+o/50;R=!1,O=!1,N.clear(),c.useDuration(s).useFriction(i),l.distance(n,!h),M=!1,m.emit("pointerUp")}function U(e){T&&(e.stopPropagation(),e.preventDefault(),T=!1)}return{init:function(e){if(!b)return;function i(i){(P(b)||b(e,i))&&function(e){const i=Q(e,n);if(M=i,T=h&&i&&!e.buttons&&I,I=$(o.get(),s.get())>=2,i&&0!==e.button)return;if(function(e){const t=e.nodeName||"";return j.includes(t)}(e.target))return;O=!0,a.pointerDown(e),c.useFriction(0).useDuration(0),o.set(s),function(){const e=M?r:t;N.add(e,"touchmove",z,w).add(e,"touchend",F).add(e,"mousemove",z,w).add(e,"mouseup",F)}(),A=a.readPoint(e),D=a.readPoint(e,v),m.emit("pointerDown")}(i)}const l=t;y.add(l,"dragstart",(e=>e.preventDefault()),w).add(l,"touchmove",(()=>{}),w).add(l,"touchend",(()=>{})).add(l,"touchstart",i).add(l,"mousedown",i).add(l,"touchcancel",F).add(l,"contextmenu",F).add(l,"click",U,!0)},destroy:function(){y.clear(),N.clear()},pointerDown:function(){return O}}}function te(e,t){let r,n;function o(e){return e.timeStamp}function a(r,n){const o="client"+("x"===(n||e.scroll)?"X":"Y");return(Q(r,t)?r:r.touches[0])[o]}return{pointerDown:function(e){return r=e,n=e,a(e)},pointerMove:function(e){const t=a(e)-a(n),s=o(e)-o(r)>170;return n=e,s&&(r=e),t},pointerUp:function(e){if(!r||!n)return 0;const t=a(n)-a(r),s=o(e)-o(r),i=o(e)-o(n)>170,l=t/s;return s&&!i&&V(l)>.1?l:0},readPoint:a}}function re(e,t,r,n,o,a,s){const i=[e].concat(n);let l,c,d=[],u=!1;function m(e){return o.measureSize(s.measure(e))}return{init:function(o){a&&(c=m(e),d=n.map(m),l=new ResizeObserver((r=>{(P(a)||a(o,r))&&function(r){for(const a of r){if(u)return;const r=a.target===e,s=n.indexOf(a.target),i=r?c:d[s];if(V(m(r?e:n[s])-i)>=.5){o.reInit(),t.emit("resize");break}}}(r)})),r.requestAnimationFrame((()=>{i.forEach((e=>l.observe(e)))})))},destroy:function(){u=!0,l&&l.disconnect()}}}function ne(e,t,r,n,o){const a=o.measure(10),s=o.measure(50),i=Y(.1,.99);let l=!1;function c(){return!l&&(!!e.reachedAny(r.get())&&!!e.reachedAny(t.get()))}return{shouldConstrain:c,constrain:function(o){if(!c())return;const l=e.reachedMin(t.get())?"min":"max",d=V(e[l]-t.get()),u=r.get()-t.get(),m=i.constrain(d/s);r.subtract(u*m),!o&&V(u)<a&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())},toggleActive:function(e){l=!e}}}function oe(e,t,r,n){const o=t.min+.1,a=t.max+.1,{reachedMin:s,reachedMax:i}=Y(o,a);return{loop:function(t){if(!function(e){return 1===e?i(r.get()):-1===e&&s(r.get())}(t))return;const o=e*(-1*t);n.forEach((e=>e.add(o)))}}}function ae(e,t,r,n,o){const{reachedAny:a,removeOffset:s,constrain:i}=n;function l(e){return e.concat().sort(((e,t)=>V(e)-V(t)))[0]}function c(t,n){const o=[t,t+r,t-r];if(!e)return t;if(!n)return l(o);const a=o.filter((e=>H(e)===n));return a.length?l(a):G(o)-r}return{byDistance:function(r,n){const l=o.get()+r,{index:d,distance:u}=function(r){const n=e?s(r):i(r),o=t.map(((e,t)=>({diff:c(e-n,0),index:t}))).sort(((e,t)=>V(e.diff)-V(t.diff))),{index:a}=o[0];return{index:a,distance:n}}(l),m=!e&&a(l);return!n||m?{index:d,distance:r}:{index:d,distance:r+c(t[d]-u,0)}},byIndex:function(e,r){return{index:e,distance:c(t[e]-o.get(),r)}},shortcut:c}}function se(e,t,r,n,o,a,s,i){const l={passive:!0,capture:!0};let c=0;function d(e){"Tab"===e.code&&(c=(new Date).getTime())}return{init:function(u){i&&(a.add(document,"keydown",d,!1),t.forEach(((t,d)=>{a.add(t,"focus",(t=>{(P(i)||i(u,t))&&function(t){if((new Date).getTime()-c>10)return;s.emit("slideFocusStart"),e.scrollLeft=0;const a=r.findIndex((e=>e.includes(t)));M(a)&&(o.useDuration(0),n.index(a,0),s.emit("slideFocus"))}(d)}),l)})))}}}function ie(e){let t=e;function r(e){return M(e)?e:e.get()}return{get:function(){return t},set:function(e){t=r(e)},add:function(e){t+=r(e)},subtract:function(e){t-=r(e)}}}function le(e,t){const r="x"===e.scroll?function(e){return`translate3d(${e}px,0px,0px)`}:function(e){return`translate3d(0px,${e}px,0px)`},n=t.style;let o=null,a=!1;return{clear:function(){a||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))},to:function(t){if(a)return;const s=(i=e.direction(t),Math.round(100*i)/100);var i;s!==o&&(n.transform=r(s),o=s)},toggleActive:function(e){a=!e}}}function ce(e,t,r,n,o,a,s,i,l){const c=U(o),d=U(o).reverse(),u=function(){const e=s[0];return h(f(d,e),r,!1)}().concat(function(){const e=t-s[0]-1;return h(f(c,e),-r,!0)}());function m(e,t){return e.reduce(((e,t)=>e-o[t]),t)}function f(e,t){return e.reduce(((e,r)=>m(e,t)>0?e.concat([r]):e),[])}function h(o,s,c){const d=function(e){return a.map(((r,o)=>({start:r-n[o]+.5+e,end:r+t-.5+e})))}(s);return o.map((t=>{const n=c?0:-r,o=c?r:0,a=c?"end":"start",s=d[t][a];return{index:t,loopPoint:s,slideLocation:ie(-1),translate:le(e,l[t]),target:()=>i.get()>s?n:o}}))}return{canLoop:function(){return u.every((({index:e})=>m(c.filter((t=>t!==e)),t)<=.1))},clear:function(){u.forEach((e=>e.translate.clear()))},loop:function(){u.forEach((e=>{const{target:t,translate:r,slideLocation:n}=e,o=t();o!==n.get()&&(r.to(o),n.set(o))}))},loopPoints:u}}function de(e,t,r){let n,o=!1;return{init:function(a){r&&(n=new MutationObserver((e=>{o||(P(r)||r(a,e))&&function(e){for(const r of e)if("childList"===r.type){a.reInit(),t.emit("slidesChanged");break}}(e)})),n.observe(e,{childList:!0}))},destroy:function(){n&&n.disconnect(),o=!0}}}function ue(e,t,r,n){const o={};let a,s=null,i=null,l=!1;return{init:function(){a=new IntersectionObserver((e=>{l||(e.forEach((e=>{const r=t.indexOf(e.target);o[r]=e})),s=null,i=null,r.emit("slidesInView"))}),{root:e.parentElement,threshold:n}),t.forEach((e=>a.observe(e)))},destroy:function(){a&&a.disconnect(),l=!0},get:function(e=!0){if(e&&s)return s;if(!e&&i)return i;const t=function(e){return W(o).reduce(((t,r)=>{const n=parseInt(r),{isIntersecting:a}=o[n];return(e&&a||!e&&!a)&&t.push(n),t}),[])}(e);return e&&(s=t),e||(i=t),t}}}function me(e,t,r,n,o,a,s,i,l){const{startEdge:c,endEdge:d,direction:u}=e,m=M(r);return{groupSlides:function(e){return m?function(e,t){return U(e).filter((e=>e%t==0)).map((r=>e.slice(r,r+t)))}(e,r):function(e){return e.length?U(e).reduce(((r,m,f)=>{const h=G(r)||0,x=0===h,p=m===q(e),g=o[c]-a[h][c],b=o[c]-a[m][d],v=!n&&x?u(s):0,k=V(b-(!n&&p?u(i):0)-(g+v));return f&&k>t+l&&r.push(m),p&&r.push(e.length),r}),[]).map(((t,r,n)=>{const o=Math.max(n[r-1]||0);return e.slice(o,t)})):[]}(e)}}}function fe(e,t,r,n,o,a,s){const{align:i,axis:l,direction:c,startIndex:d,loop:u,duration:m,dragFree:f,dragThreshold:h,inViewThreshold:x,slidesToScroll:p,skipSnaps:g,containScroll:b,watchResize:v,watchSlides:k,watchDrag:j,watchFocus:w}=a,y={measure:function(e){const{offsetTop:t,offsetLeft:r,offsetWidth:n,offsetHeight:o}=e;return{top:t,right:r+n,bottom:t+o,left:r,width:n,height:o}}},N=y.measure(t),S=r.map(y.measure),E=function(e,t){const r="rtl"===t,n="y"===e,o=!n&&r?-1:1;return{scroll:n?"y":"x",cross:n?"x":"y",startEdge:n?"top":r?"right":"left",endEdge:n?"bottom":r?"left":"right",measureSize:function(e){const{height:t,width:r}=e;return n?t:r},direction:function(e){return e*o}}}(l,c),C=E.measureSize(N),L=function(e){return{measure:function(t){return e*(t/100)}}}(C),I=function(e,t){const r={start:function(){return 0},center:function(e){return n(e)/2},end:n};function n(e){return t-e}return{measure:function(n,o){return z(e)?r[e](n):e(t,n,o)}}}(i,C),A=!u&&!!b,D=u||!!b,{slideSizes:O,slideSizesWithGaps:R,startGap:T,endGap:M}=function(e,t,r,n,o,a){const{measureSize:s,startEdge:i,endEdge:l}=e,c=r[0]&&o,d=function(){if(!c)return 0;const e=r[0];return V(t[i]-e[i])}(),u=function(){if(!c)return 0;const e=a.getComputedStyle(G(n));return parseFloat(e.getPropertyValue(`margin-${l}`))}(),m=r.map(s),f=r.map(((e,t,r)=>{const n=!t,o=B(r,t);return n?m[t]+d:o?m[t]+u:r[t+1][i]-e[i]})).map(V);return{slideSizes:m,slideSizesWithGaps:f,startGap:d,endGap:u}}(E,N,S,r,D,o),P=me(E,C,p,u,N,S,T,M,2),{snaps:F,snapsAligned:W}=function(e,t,r,n,o){const{startEdge:a,endEdge:s}=e,{groupSlides:i}=o,l=i(n).map((e=>G(e)[s]-e[0][a])).map(V).map(t.measure),c=n.map((e=>r[a]-e[a])).map((e=>-V(e))),d=i(c).map((e=>e[0])).map(((e,t)=>e+l[t]));return{snaps:c,snapsAligned:d}}(E,I,N,S,P),J=-G(F)+G(R),{snapsContained:Q,scrollContainLimit:fe}=function(e,t,r,n,o){const a=Y(-t+e,0),s=r.map(((e,t)=>{const{min:n,max:o}=a,s=a.constrain(e),i=!t,c=B(r,t);return i?o:c||l(n,s)?n:l(o,s)?o:s})).map((e=>parseFloat(e.toFixed(3)))),i=function(){const e=s[0],t=G(s);return Y(s.lastIndexOf(e),s.indexOf(t)+1)}();function l(e,t){return $(e,t)<=1}return{snapsContained:function(){if(t<=e+o)return[a.max];if("keepSnaps"===n)return s;const{min:r,max:l}=i;return s.slice(r,l)}(),scrollContainLimit:i}}(C,J,W,b,2),he=A?Q:W,{limit:xe}=function(e,t,r){const n=t[0];return{limit:Y(r?n-e:G(t),n)}}(J,he,u),pe=Z(q(he),d,u),ge=pe.clone(),be=U(r),ve=K(n,o,(()=>(({dragHandler:e,scrollBody:t,scrollBounds:r,options:{loop:n}})=>{n||r.constrain(e.pointerDown()),t.seek()})(Re)),(e=>(({scrollBody:e,translate:t,location:r,offsetLocation:n,previousLocation:o,scrollLooper:a,slideLooper:s,dragHandler:i,animation:l,eventHandler:c,scrollBounds:d,options:{loop:u}},m)=>{const f=e.settled(),h=!d.shouldConstrain(),x=u?f:f&&h,p=x&&!i.pointerDown();p&&l.stop();const g=r.get()*m+o.get()*(1-m);n.set(g),u&&(a.loop(e.direction()),s.loop()),t.to(n.get()),p&&c.emit("settle"),x||c.emit("scroll")})(Re,e))),ke=he[pe.get()],je=ie(ke),we=ie(ke),ye=ie(ke),Ne=ie(ke),Se=function(e,t,r,n,o,a){let s=0,i=0,l=o,c=a,d=e.get(),u=0;function m(e){return l=e,h}function f(e){return c=e,h}const h={direction:function(){return i},duration:function(){return l},velocity:function(){return s},seek:function(){const t=n.get()-e.get();let o=0;return l?(r.set(e),s+=t/l,s*=c,d+=s,e.add(s),o=d-u):(s=0,r.set(n),e.set(n),o=t),i=H(o),u=d,h},settled:function(){return V(n.get()-t.get())<.001},useBaseFriction:function(){return f(a)},useBaseDuration:function(){return m(o)},useFriction:f,useDuration:m};return h}(je,ye,we,Ne,m,.68),Ee=ae(u,he,J,xe,Ne),Ce=function(e,t,r,n,o,a,s){function i(o){const i=o.distance,l=o.index!==t.get();a.add(i),i&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),l&&(r.set(t.get()),t.set(o.index),s.emit("select"))}return{distance:function(e,t){i(o.byDistance(e,t))},index:function(e,r){const n=t.clone().set(e);i(o.byIndex(n.get(),r))}}}(ve,pe,ge,Se,Ee,Ne,s),Le=function(e){const{max:t,length:r}=e;return{get:function(e){return r?(e-t)/-r:0}}}(xe),Ie=X(),Ae=ue(t,r,s,x),{slideRegistry:De}=function(e,t,r,n,o,a){const{groupSlides:s}=o,{min:i,max:l}=n;return{slideRegistry:function(){const n=s(a),o=!e||"keepSnaps"===t;return 1===r.length?[a]:o?n:n.slice(i,l).map(((e,t,r)=>{const n=!t,o=B(r,t);return n?_(G(r[0])+1):o?_(q(a)-G(r)[0]+1,G(r)[0]):e}))}()}}(A,b,he,fe,P,be),Oe=se(e,r,De,Ce,Se,Ie,s,w),Re={ownerDocument:n,ownerWindow:o,eventHandler:s,containerRect:N,slideRects:S,animation:ve,axis:E,dragHandler:ee(E,e,n,o,Ne,te(E,o),je,ve,Ce,Se,Ee,pe,s,L,f,h,g,.68,j),eventStore:Ie,percentOfView:L,index:pe,indexPrevious:ge,limit:xe,location:je,offsetLocation:ye,previousLocation:we,options:a,resizeHandler:re(t,s,o,r,E,v,y),scrollBody:Se,scrollBounds:ne(xe,ye,Ne,Se,L),scrollLooper:oe(J,xe,ye,[je,ye,we,Ne]),scrollProgress:Le,scrollSnapList:he.map(Le.get),scrollSnaps:he,scrollTarget:Ee,scrollTo:Ce,slideLooper:ce(E,C,J,O,R,F,he,ye,r),slideFocus:Oe,slidesHandler:de(t,s,k),slidesInView:Ae,slideIndexes:be,slideRegistry:De,slidesToScroll:P,target:Ne,translate:le(E,t)};return Re}const he={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function xe(e){function t(e,t){return J(e,t||{})}const r={mergeOptions:t,optionsAtMedia:function(r){const n=r.breakpoints||{},o=W(n).filter((t=>e.matchMedia(t).matches)).map((e=>n[e])).reduce(((e,r)=>t(e,r)),{});return t(r,o)},optionsMediaQueries:function(t){return t.map((e=>W(e.breakpoints||{}))).reduce(((e,t)=>e.concat(t)),[]).map(e.matchMedia)}};return r}function pe(e,t,r){const n=e.ownerDocument,o=n.defaultView,a=xe(o),s=function(e){let t=[];return{init:function(r,n){return t=n.filter((({options:t})=>!1!==e.optionsAtMedia(t).active)),t.forEach((t=>t.init(r,e))),n.reduce(((e,t)=>Object.assign(e,{[t.name]:t})),{})},destroy:function(){t=t.filter((e=>e.destroy()))}}}(a),i=X(),l=function(){let e,t={};function r(e){return t[e]||[]}const n={init:function(t){e=t},emit:function(t){return r(t).forEach((r=>r(e,t))),n},off:function(e,o){return t[e]=r(e).filter((e=>e!==o)),n},on:function(e,o){return t[e]=r(e).concat([o]),n},clear:function(){t={}}};return n}(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:u}=a,{on:m,off:f,emit:h}=l,x=E;let p,g,b,v,k=!1,j=c(he,pe.globalOptions),w=c(j),y=[];function N(t){const r=fe(e,b,v,n,o,t,l);if(t.loop&&!r.slideLooper.canLoop()){return N(Object.assign({},t,{loop:!1}))}return r}function S(t,r){k||(j=c(j,t),w=d(j),y=r||y,function(){const{container:t,slides:r}=w,n=z(t)?e.querySelector(t):t;b=n||e.children[0];const o=z(r)?b.querySelectorAll(r):r;v=[].slice.call(o||b.children)}(),p=N(w),u([j,...y.map((({options:e})=>e))]).forEach((e=>i.add(e,"change",E))),w.active&&(p.translate.to(p.location.get()),p.animation.init(),p.slidesInView.init(),p.slideFocus.init(A),p.eventHandler.init(A),p.resizeHandler.init(A),p.slidesHandler.init(A),p.options.loop&&p.slideLooper.loop(),b.offsetParent&&v.length&&p.dragHandler.init(A),g=s.init(A,y)))}function E(e,t){const r=I();C(),S(c({startIndex:r},e),t),l.emit("reInit")}function C(){p.dragHandler.destroy(),p.eventStore.clear(),p.translate.clear(),p.slideLooper.clear(),p.resizeHandler.destroy(),p.slidesHandler.destroy(),p.slidesInView.destroy(),p.animation.destroy(),s.destroy(),i.clear()}function L(e,t,r){w.active&&!k&&(p.scrollBody.useBaseFriction().useDuration(!0===t?0:w.duration),p.scrollTo.index(e,r||0))}function I(){return p.index.get()}const A={canScrollNext:function(){return p.index.add(1).get()!==I()},canScrollPrev:function(){return p.index.add(-1).get()!==I()},containerNode:function(){return b},internalEngine:function(){return p},destroy:function(){k||(k=!0,i.clear(),C(),l.emit("destroy"),l.clear())},off:f,on:m,emit:h,plugins:function(){return g},previousScrollSnap:function(){return p.indexPrevious.get()},reInit:x,rootNode:function(){return e},scrollNext:function(e){L(p.index.add(1).get(),e,-1)},scrollPrev:function(e){L(p.index.add(-1).get(),e,1)},scrollProgress:function(){return p.scrollProgress.get(p.offsetLocation.get())},scrollSnapList:function(){return p.scrollSnapList},scrollTo:L,selectedScrollSnap:I,slideNodes:function(){return v},slidesInView:function(){return p.slidesInView.get()},slidesNotInView:function(){return p.slidesInView.get(!1)}};return S(t,r),setTimeout((()=>l.emit("init")),0),A}function ge(e={},r=[]){const n=t.useRef(e),o=t.useRef(r),[a,s]=t.useState(),[i,l]=t.useState(),c=t.useCallback((()=>{a&&a.reInit(n.current,o.current)}),[a]);return t.useEffect((()=>{R(n.current,e)||(n.current=e,c())}),[e,c]),t.useEffect((()=>{(function(e,t){if(e.length!==t.length)return!1;const r=T(e),n=T(t);return r.every(((e,t)=>R(e,n[t])))})(o.current,r)||(o.current=r,c())}),[r,c]),t.useEffect((()=>{if("undefined"!=typeof window&&window.document&&window.document.createElement&&i){pe.globalOptions=ge.globalOptions;const e=pe(i,n.current,o.current);return s(e),()=>e.destroy()}s(void 0)}),[i,s]),[l,a]}pe.globalOptions=void 0,ge.globalOptions=void 0;const be=t.createContext(null);function ve(){const e=t.useContext(be);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const ke=t.forwardRef((({orientation:r="horizontal",opts:n,setApi:o,plugins:a,className:i,children:l,...c},d)=>{const[u,m]=ge({...n,axis:"horizontal"===r?"x":"y"},a),[f,h]=t.useState(!1),[x,p]=t.useState(!1),g=t.useCallback((e=>{e&&(h(e.canScrollPrev()),p(e.canScrollNext()))}),[]),b=t.useCallback((()=>{m?.scrollPrev()}),[m]),v=t.useCallback((()=>{m?.scrollNext()}),[m]),k=t.useCallback((e=>{"ArrowLeft"===e.key?(e.preventDefault(),b()):"ArrowRight"===e.key&&(e.preventDefault(),v())}),[b,v]);return t.useEffect((()=>{m&&o&&o(m)}),[m,o]),t.useEffect((()=>{if(m)return g(m),m.on("reInit",g),m.on("select",g),()=>{m?.off("select",g)}}),[m,g]),e.jsx(be.Provider,{value:{carouselRef:u,api:m,opts:n,orientation:r||("y"===n?.axis?"vertical":"horizontal"),scrollPrev:b,scrollNext:v,canScrollPrev:f,canScrollNext:x},children:e.jsx("div",{ref:d,onKeyDownCapture:k,className:s("relative",i),role:"region","aria-roledescription":"carousel",...c,children:l})})}));ke.displayName="Carousel";const je=t.forwardRef((({className:t,...r},n)=>{const{carouselRef:o,orientation:a}=ve();return e.jsx("div",{ref:o,className:"overflow-hidden",children:e.jsx("div",{ref:n,className:s("flex","horizontal"===a?"-ml-4":"-mt-4 flex-col",t),...r})})}));je.displayName="CarouselContent";const we=t.forwardRef((({className:t,...r},n)=>{const{orientation:o}=ve();return e.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:s("min-w-0 shrink-0 grow-0 basis-full","horizontal"===o?"pl-4":"pt-4",t),...r})}));we.displayName="CarouselItem";const ye=t.forwardRef((({className:t,variant:r="outline",size:n="icon",...o},a)=>{const{orientation:l,scrollPrev:c,canScrollPrev:d}=ve();return e.jsxs(i,{ref:a,variant:r,size:n,className:s("absolute  h-8 w-8 rounded-full","horizontal"===l?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!d,onClick:c,...o,children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Previous slide"})]})}));ye.displayName="CarouselPrevious";const Ne=t.forwardRef((({className:t,variant:r="outline",size:n="icon",...o},a)=>{const{orientation:c,scrollNext:d,canScrollNext:u}=ve();return e.jsxs(i,{ref:a,variant:r,size:n,className:s("absolute h-8 w-8 rounded-full","horizontal"===c?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!u,onClick:d,...o,children:[e.jsx(l,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Next slide"})]})}));function Se(e){const[r,n]=t.useState(!1);return t.useEffect((()=>{const t=window.matchMedia(e);n(t.matches);const r=e=>{n(e.matches)};return t.addEventListener("change",r),()=>{t.removeEventListener("change",r)}}),[e]),r}Ne.displayName="CarouselNext";const Ee={"Développement Web":"bg-gradient-to-r from-amber-100 via-yellow-100 to-orange-100 dark:from-amber-900 dark:via-yellow-900 dark:to-orange-900 text-amber-800 dark:text-amber-200 hover:from-amber-200 hover:via-yellow-200 hover:to-orange-200 dark:hover:from-amber-800 dark:hover:via-yellow-800 dark:hover:to-orange-800","Data Science":"bg-gradient-to-r from-blue-100 via-cyan-100 to-teal-100 dark:from-blue-900 dark:via-cyan-900 dark:to-teal-900 text-blue-700 dark:text-blue-300 hover:from-blue-200 hover:via-cyan-200 hover:to-teal-200 dark:hover:from-blue-800 dark:hover:via-cyan-800 dark:hover:to-teal-800","Cybersécurité":"bg-gradient-to-r from-violet-100 via-purple-100 to-fuchsia-100 dark:from-violet-900 dark:via-purple-900 dark:to-fuchsia-900 text-violet-700 dark:text-violet-300 hover:from-violet-200 hover:via-purple-200 hover:to-fuchsia-200 dark:hover:from-violet-800 dark:hover:via-purple-800 dark:hover:to-fuchsia-800",DevOps:"bg-gradient-to-r from-orange-100 via-amber-100 to-yellow-100 dark:from-orange-900 dark:via-amber-900 dark:to-yellow-900 text-orange-700 dark:text-orange-300 hover:from-orange-200 hover:via-amber-200 hover:to-yellow-200 dark:hover:from-orange-800 dark:hover:via-amber-800 dark:hover:to-yellow-800",IA:"bg-gradient-to-r from-indigo-100 via-blue-100 to-sky-100 dark:from-indigo-900 dark:via-blue-900 dark:to-sky-900 text-indigo-700 dark:text-indigo-300 hover:from-indigo-200 hover:via-blue-200 hover:to-sky-200 dark:hover:from-indigo-800 dark:hover:via-blue-800 dark:hover:to-sky-800","Cloud Computing":"bg-gradient-to-r from-sky-100 via-cyan-100 to-blue-100 dark:from-sky-900 dark:via-cyan-900 dark:to-blue-900 text-sky-700 dark:text-sky-300 hover:from-sky-200 hover:via-cyan-200 hover:to-blue-200 dark:hover:from-sky-800 dark:hover:via-cyan-800 dark:hover:to-blue-800",default:"bg-gradient-to-r from-emerald-100 via-teal-100 to-cyan-100 dark:from-emerald-900 dark:via-teal-900 dark:to-cyan-900 text-emerald-700 dark:text-emerald-300 hover:from-emerald-200 hover:via-teal-200 hover:to-cyan-200 dark:hover:from-emerald-800 dark:hover:via-teal-800 dark:hover:to-cyan-800"},Ce="bg-slate-200 dark:bg-[#334155]",Le=()=>e.jsx("div",{className:"w-full",children:e.jsx(ke,{className:"w-full",children:e.jsx(je,{className:"-ml-4",children:[1,2,3,4].map(((t,r)=>e.jsx(we,{className:"pl-4 md:basis-1/2 lg:basis-2/5",children:e.jsxs(u,{className:"h-full flex flex-col bg-white dark:bg-slate-800 shadow-lg border-0 overflow-hidden rounded-lg",children:[e.jsxs("div",{className:"relative aspect-[16/9] overflow-hidden",children:[e.jsx(A,{className:`w-full h-full absolute inset-0 ${Ce}`}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:e.jsx(A,{className:`h-8 w-24 rounded-full opacity-60 ${Ce}`})})]}),e.jsxs(h,{className:"flex-grow p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3 items-center",children:[e.jsx(A,{className:`h-6 w-24 rounded-full ${Ce}`}),e.jsx(A,{className:`h-6 w-20 rounded-full ${Ce}`})]}),e.jsx(A,{className:`h-7 sm:h-8 w-2/3 mb-2 rounded ${Ce}`}),e.jsx(A,{className:`h-4 w-full mb-1 rounded ${Ce}`}),e.jsx(A,{className:`h-4 w-5/6 mb-1 rounded ${Ce}`}),e.jsx(A,{className:`h-4 w-2/3 mb-3 rounded ${Ce}`}),e.jsxs("div",{className:"flex justify-between items-center mt-2 text-xs sm:text-sm w-full gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:`h-4 w-4 rounded-full ${Ce}`}),e.jsx(A,{className:`h-4 w-24 rounded ${Ce}`})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:`h-4 w-4 rounded-full ${Ce}`}),e.jsx(A,{className:`h-4 w-16 rounded ${Ce}`})]})]})]}),e.jsx(b,{className:"p-4 pt-0",children:e.jsx(A,{className:`h-10 w-full rounded-lg ${Ce}`})})]})},r)))})})}),Ie=({error:t})=>e.jsxs("div",{className:"w-full py-12 flex flex-col items-center justify-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center mb-2",children:e.jsx("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-red-600 dark:text-red-400",children:"Erreur de chargement"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center max-w-md",children:t}),e.jsx(i,{variant:"outline",className:"mt-4 border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>window.location.reload(),children:"Réessayer"})]}),Ae=()=>e.jsxs("div",{className:"w-full py-12 flex flex-col items-center justify-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-100 dark:bg-amber-900/20 flex items-center justify-center mb-2",children:e.jsx("svg",{className:"w-8 h-8 text-amber-600 dark:text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsx("h3",{className:"text-xl font-semibold text-amber-600 dark:text-amber-400",children:"Aucune formation disponible"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-center max-w-md",children:"Il n'y a actuellement aucune formation à afficher. Revenez plus tard pour découvrir nos nouvelles formations."}),e.jsx(i,{variant:"outline",className:"mt-4 border-amber-200 dark:border-amber-800 text-amber-600 dark:text-amber-400 hover:bg-amber-50 dark:hover:bg-amber-900/20",onClick:()=>window.location.reload(),children:"Actualiser"})]}),De="requestedFormations";function Oe(e){localStorage.setItem(De,JSON.stringify(e))}function Re(){const[n,o]=t.useState([]),[a,s]=t.useState(!0),[A,D]=t.useState(null),[O,R]=t.useState(null),[T,M]=t.useState(!0),[z,P]=t.useState({open:!1,formationId:null}),[F,V]=t.useState({}),[H,$]=t.useState({}),[U,G]=t.useState(!1);Se("(max-width: 768px)"),Se("(min-width: 769px) and (max-width: 1024px)");const q=r(),{profileData:B}=t.useContext(c)||{};d();const _=B?.stats?.profile?.isAcknowledged;async function W(){const e=await fetch("/api/formation-requests/my",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Erreur lors du chargement des demandes");return await e.json()}t.useEffect((()=>{(async()=>{try{const[e,t]=await Promise.all([C.getAllFormations(),C.getMyEnrollmentRequests?C.getMyEnrollmentRequests():W()]);o((e.formations||[]).slice(0,4));let r=[];t&&t.requests?r=t.requests.filter((e=>null===e.status)).map((e=>e.formation.id)):Array.isArray(t)&&(r=t.filter((e=>null===e.status)).map((e=>e.formation?.id||e.formation_id)));const n=function(){try{return JSON.parse(localStorage.getItem(De))||[]}catch{return[]}}().filter((e=>r.includes(e))),a=Array.from(new Set([...r,...n]));V(Object.fromEntries(a.map((e=>[e,!0])))),Oe(n)}catch(e){D(e.message)}finally{s(!1)}})()}),[]),t.useEffect((()=>{if(!O)return;const e=()=>{const e=O.scrollSnapList().length-1;O.selectedScrollSnap();const t=O.slidesInView().includes(e);M(!t)};return e(),O.on("select",e),O.on("reInit",e),()=>{O.off("select",e),O.off("reInit",e)}}),[O]);const J=()=>{q("/formations/list")};if(a)return e.jsx(Le,{});if(A)return e.jsx(Ie,{error:A});if(0===n.length)return e.jsx(Ae,{});const Q=[...n,{id:"see-all",isSeeAllCard:!0}];return e.jsxs("div",{className:"w-full bg-white dark:bg-slate-900 p-6 rounded-xl shadow-lg",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(ke,{setApi:R,className:"w-full",opts:{align:"start",containScroll:!1},children:[e.jsx(je,{className:"-ml-4",children:Q.map((t=>e.jsx(we,{className:"pl-4 md:basis-1/2 lg:basis-2/5",children:t.isSeeAllCard?e.jsx(u,{className:"h-full flex flex-col bg-gradient-to-br from-white via-amber-50/5 to-white dark:from-slate-800 dark:via-amber-900/5 dark:to-slate-800 border-dashed border-2 border-amber-300/30 dark:border-amber-400/30 overflow-hidden rounded-lg transition-all duration-300 hover:shadow-lg hover:shadow-amber-200/30 dark:hover:shadow-amber-400/20 hover:border-amber-400/50 dark:hover:border-amber-400/50 group",children:e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-amber-200/30 to-[#528eb2]/30 dark:from-amber-400/30 dark:to-[#78b9dd]/40 flex items-center justify-center mb-6 group-hover:from-amber-300/40 group-hover:to-[#528eb2]/40 dark:group-hover:from-amber-400/40 dark:group-hover:to-[#78b9dd]/50 transition-all duration-300",children:e.jsx(l,{className:"h-8 w-8 text-amber-600 dark:text-amber-300 group-hover:translate-x-1 transition-transform duration-300"})}),e.jsx("h3",{className:"text-xl font-bold mb-3 text-primary",children:"Découvrir toutes les formations"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Parcourez notre catalogue complet de formations professionnelles."}),e.jsxs(m,{className:"w-full text-base font-medium bg-gradient-to-r from-amber-400 via-[#528eb2] to-[#78b9dd] hover:from-amber-400/10 hover:via-[#528eb2]/10 hover:to-[#78b9dd]/10 hover:text-amber-600 dark:hover:text-amber-300 transition-all duration-300",onClick:J,children:["Voir toutes les formations",e.jsx(f,{className:"ml-2 h-5 w-5"})]})]})}):e.jsxs(u,{className:"h-full flex flex-col bg-white dark:bg-slate-800 shadow-lg border-0 overflow-hidden rounded-lg transition-all duration-300 group cursor-pointer",onClick:()=>q(`/formations/${t.id}`),children:[e.jsxs("div",{className:"relative aspect-[16/9] overflow-hidden",children:[e.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.name,className:"w-full h-full object-cover object-center transition-transform duration-500 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-t from-[#02284f]/90 via-[#02284f]/50 to-transparent z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("span",{className:"text-white text-lg font-semibold drop-shadow-lg",children:"Voir détail"})})]}),e.jsxs(h,{className:"flex-grow p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsx(x,{className:`${Ee[t.specialization?.name||"default"]} transition-all duration-300 text-xs sm:text-sm`,children:t.specialization?.name||"Formation"}),e.jsx(x,{variant:"outline",className:"bg-gradient-to-r from-amber-50 to-white dark:from-amber-900/20 dark:to-slate-900 border-amber-200 dark:border-amber-700/50 text-xs sm:text-sm",children:t.promotion})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2 text-slate-800 dark:text-slate-100 line-clamp-2",children:t.name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-2 text-sm line-clamp-3 min-h-[3em]",children:t.description||"Aucune description disponible"}),e.jsxs("div",{className:"flex justify-between items-center mt-2 text-xs sm:text-sm w-full",children:[e.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-300",children:[e.jsx(p,{className:"h-4 w-4 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["Début le ",t.dateStart?t.dateStart instanceof Date?t.dateStart.toLocaleDateString():new Date(t.dateStart).toLocaleDateString():""]})]}),t.location&&e.jsxs("div",{className:"flex items-center gap-2 text-[#528eb2] dark:text-[#78b9dd]",children:[e.jsx(g,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:t.location})]})]})]}),e.jsx(b,{className:"p-4 pt-0",children:F[t.id]?e.jsxs(i,{className:"w-full text-sm sm:text-base font-medium bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-300 cursor-not-allowed flex items-center justify-center gap-2",disabled:!0,onClick:e=>e.stopPropagation(),children:[e.jsx(v,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Demande envoyée"]}):e.jsxs(m,{className:"w-full text-sm sm:text-base font-medium bg-gradient-to-r from-amber-400 via-[#528eb2] to-[#78b9dd] hover:from-transparent hover:to-transparent hover:text-amber-600 dark:hover:text-white",onClick:e=>{e.stopPropagation(),!1===_?G(!0):P({open:!0,formationId:t.id})},disabled:H[t.id],children:["Demander à rejoindre",e.jsx(f,{className:"ml-2 h-4 w-4 sm:h-5 sm:w-5"})]})})]})},t.id)))}),e.jsx(ye,{className:"hidden md:flex"}),e.jsx(Ne,{className:"hidden md:flex"})]}),e.jsx("div",{className:"mt-10 flex justify-center",children:e.jsxs(i,{onClick:J,className:"bg-gradient-to-r from-amber-100 to-amber-50 dark:from-amber-900/30 dark:to-amber-800/20 text-amber-600 dark:text-amber-300 border-2 border-amber-400 dark:border-amber-500/50 hover:from-amber-500 hover:to-amber-400 hover:text-white dark:hover:from-amber-400 dark:hover:to-amber-500 dark:hover:text-white transition-all duration-300 px-8 py-6 text-lg font-medium rounded-md group shadow-lg hover:shadow-xl hover:shadow-amber-200/30 dark:hover:shadow-amber-400/20",children:["Voir toutes les formations",e.jsx(f,{className:"ml-2 h-5 w-5 transition-transform duration-300 group-hover:translate-x-1"})]})})]}),e.jsx(k,{open:z.open,onOpenChange:e=>P((t=>({...t,open:e}))),children:e.jsxs(j,{children:[e.jsxs(w,{children:[e.jsx(y,{children:"Confirmer la demande"}),e.jsx(N,{children:"Voulez-vous vraiment rejoindre cette formation ? Cette action enverra une demande d'inscription."})]}),e.jsxs(S,{children:[e.jsx(i,{variant:"outline",onClick:()=>P({open:!1,formationId:null}),children:"Annuler"}),e.jsx(i,{onClick:()=>{(async t=>{$((e=>({...e,[t]:!0}))),V((e=>{const r={...e,[t]:!0};return Oe(Object.keys(r).map(Number)),r}));try{const r=n.find((e=>e.id===t));if(await C.requestEnrollment(t),r){await L.requested({formationName:r.name,formationId:r.id,userId:B?.id});const e=B?.roles||B?.userRoles||[],t=Array.isArray(e)?e.some((e=>"object"==typeof e?"ROLE_GUEST"===e.name||"GUEST"===e.name:"ROLE_GUEST"===e||"GUEST"===e)):"ROLE_GUEST"===e||"GUEST"===e,n=r.recruiterId||r.recruiter&&r.recruiter.id;t&&n&&await L.guestApplication({formationName:r.name,recruiterId:n,guestId:B?.id})}I.success(e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{className:"font-bold",children:"Demande envoyée !"})]}),{duration:5e3})}catch(r){if(r?.message&&r.message.toLowerCase().includes("demande d'inscription créée avec succès")){const r=n.find((e=>e.id===t));if(r){await L.requested({formationName:r.name,formationId:r.id,userId:B?.id});const e=B?.roles||B?.userRoles||[],t=Array.isArray(e)?e.some((e=>"object"==typeof e?"ROLE_GUEST"===e.name||"GUEST"===e.name:"ROLE_GUEST"===e||"GUEST"===e)):"ROLE_GUEST"===e||"GUEST"===e,n=r.recruiterId||r.recruiter&&r.recruiter.id;t&&n&&await L.guestApplication({formationName:r.name,recruiterId:n,guestId:B?.id})}return void I.success(e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{className:"font-bold",children:"Demande envoyée !"})]}),{duration:5e3})}r?.message&&r.message.toLowerCase().includes("compléter votre profil")?(G(!0),P({open:!1,formationId:null})):r?.message&&r.message.toLowerCase().includes("déjà en cours")||409===r?.response?.status?I.error("Vous avez déjà fait une demande pour cette formation."):I.error(r.message||"Erreur lors de la demande d'inscription à la formation.")}finally{$((e=>({...e,[t]:!1}))),P({open:!1,formationId:null})}})(z.formationId,!0)},disabled:H[z.formationId],children:"Confirmer"})]})]})}),e.jsx(k,{open:U,onOpenChange:G,children:e.jsx(j,{className:"bg-gradient-to-br from-amber-50 via-blue-50 to-white dark:from-amber-900/30 dark:via-blue-900/20 dark:to-slate-900 p-0 overflow-hidden",children:e.jsxs("div",{className:"flex flex-col items-center px-6 pt-8 pb-6",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-pink-300 via-purple-300 to-indigo-300 dark:from-pink-900/30 dark:via-purple-900/30 dark:to-indigo-900/30 flex items-center justify-center mb-4 shadow-lg",children:e.jsx(E,{className:"w-12 h-12 text-white dark:text-white"})}),e.jsxs(w,{className:"w-full text-center",children:[e.jsx(y,{className:"text-2xl font-bold mb-2",children:"Profil à compléter !"}),e.jsx(N,{asChild:!0,children:e.jsxs("div",{className:"mb-4 text-base text-gray-700 dark:text-gray-200",children:[e.jsx("span",{className:"block mb-2",children:"Oups, il te manque encore quelques infos pour pouvoir faire une demande :"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-1 text-left",children:[e.jsx("li",{children:e.jsx("button",{type:"button",className:"underline text-blue-600 dark:text-blue-300 hover:text-blue-800 dark:hover:text-blue-100 transition-colors cursor-pointer p-0 bg-transparent border-0",onClick:()=>{G(!1),q("/settings/profile")},children:"Ajoute ton profil LinkedIn"})}),e.jsx("li",{children:e.jsx("button",{type:"button",className:"underline text-amber-700 dark:text-amber-300 hover:text-amber-900 dark:hover:text-amber-100 transition-colors cursor-pointer p-0 bg-transparent border-0",onClick:()=>{G(!1),q("/settings/career")},children:"Dépose ton CV"})}),e.jsx("li",{children:e.jsx("button",{type:"button",className:"underline text-emerald-700 dark:text-emerald-300 hover:text-emerald-900 dark:hover:text-emerald-100 transition-colors cursor-pointer p-0 bg-transparent border-0",onClick:()=>{G(!1),q("/settings/career")},children:"Ajoute au moins un diplôme"})})]}),e.jsx("span",{className:"block mt-4",children:"C'est rapide, et ça t'ouvrira toutes les portes 🚀"})]})})]}),e.jsx(S,{className:"w-full flex flex-col gap-2 mt-2",children:e.jsx(i,{asChild:!0,variant:"default",className:"w-full text-base font-semibold",children:e.jsx("a",{href:"/settings/profile",className:"text-primary",onClick:()=>G(!1),children:"Compléter mon profil"})})})]})})})]})}const Te=()=>{const{data:r,isLoading:s,error:i}=a(),[l,c]=t.useState([]);return t.useMemo((()=>{if(!r?.roles?.length)return"";const e=r.roles[0].replace("ROLE_","");return{SUPER_ADMIN:"Super Administrateur",ADMIN:"Administrateur",TEACHER:"Formateur",STUDENT:"Étudiant",HR:"Ressources Humaines",RECRUITER:"Recruteur",GUEST:"Invité"}[e]||e}),[r]),e.jsxs(n,{children:[e.jsx(o,{user:r,roleTitle:"Invité"}),e.jsx(Re,{})]})};export{Te as default};
