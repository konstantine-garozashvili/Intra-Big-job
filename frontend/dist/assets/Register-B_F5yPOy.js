const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-18AXJEkp.js","assets/ui-B9MhWaVJ.js","assets/router-D7BdrHDj.js","assets/react-0RZ2pslC.js","assets/charts-DkICKEBk.js"])))=>i.map(i=>d[i]);
import{j as e}from"./ui-B9MhWaVJ.js";import{u as a,r as l,R as t,L as s}from"./router-D7BdrHDj.js";import{t as r,b as i,e as n,P as o,f as u,B as d,g as c,h as m,M as b,m as x,i as g,D as h,j as p,k as f,l as v,_ as y,d as j}from"./index-BrCX-3nd.js";import{P as N}from"./PageTransition--tMIFWV7.js";import{i as w,v as C,a as k,b as S,P as L}from"./phone-input-DpFayH1P.js";import{f as M}from"./index-BVS3CcWE.js";import{C as z,a as q,b as A,c as D,d as T}from"./command-CQwF7KQ6.js";import{C as V}from"./chevrons-up-down-DYpvMlZS.js";import{a as P}from"./api-SQFmmiGd.js";import{L as _}from"./loader-circle-Cb58oLsi.js";import"./checkbox-BDH3uL0G.js";import"./label-CKg_5d_V.js";import{P as F}from"./RegisterUtils-CNzMSx0C.js";import{E,a as R}from"./eye-BdULOCzz.js";import"./react-0RZ2pslC.js";import"./query-DKQ6_O-p.js";import"./charts-DkICKEBk.js";const B=l.createContext(null),I=l.createContext(null),H=l.createContext(null),G=()=>{const e=l.useContext(B);if(!e)throw new Error("useUserData doit être utilisé à l'intérieur d'un RegisterProvider");return e},O=()=>{const e=l.useContext(H);if(!e)throw new Error("useValidation doit être utilisé à l'intérieur d'un RegisterProvider");return e},W=({children:t})=>{const s=a(),[n,o]=l.useState(""),[u,d]=l.useState(""),[c,m]=l.useState(null),[b,x]=l.useState("france"),[g,h]=l.useState(""),[p,f]=l.useState(""),[v,y]=l.useState(""),[j,N]=l.useState(""),[L,z]=l.useState(""),[q,A]=l.useState(""),[D,T]=l.useState(""),[V,P]=l.useState(""),[_,F]=l.useState(!1),[E,R]=l.useState(!1),[G,O]=l.useState(!1),[W,$]=l.useState(!1),[U,K]=l.useState(!1),[Z,J]=l.useState(!1),[Y,Q]=l.useState(!1),[X,ee]=l.useState({}),[ae,le]=l.useState("step1"),[te,se]=l.useState(!1),[re,ie]=l.useState(!1),ne=l.useCallback((e=>{const a=new Date,l=new Date(a);l.setFullYear(a.getFullYear()-16),e>l?r.error("Vous n'êtes pas éligible à l'inscription. Vous devez avoir au moins 16 ans.",{duration:5e3,position:"top-center"}):m(e)}),[]),oe=l.useCallback((e=>{f(e)}),[]),ue=l.useCallback((e=>{F(e)}),[]),de=l.useCallback((e=>{z(e.address),T(e.city),P(e.postcode)}),[]),ce=l.useCallback((()=>{const e={};if(n?n.length<2&&(e.firstName="Le prénom doit contenir au moins 2 caractères"):e.firstName="Le prénom est requis",u?u.length<2&&(e.lastName="Le nom doit contenir au moins 2 caractères"):e.lastName="Le nom est requis",g?w(g)||(e.email="Format d'email invalide"):e.email="L'email est requis",v){C(v).isValid||(e.password="Le mot de passe ne respecte pas les critères de sécurité")}else e.password="Le mot de passe est requis";ee((a=>({...a,...e}))),O(!0);const a=0===Object.keys(e).length;return R(a),a}),[n,u,g,v]),me=l.useCallback((()=>{const e={};c?k(c)||(e.birthDate="Vous devez avoir au moins 16 ans"):e.birthDate="La date de naissance est requise",b||(e.nationality="La nationalité est requise"),p?S(p)||(e.phone="Format de téléphone invalide"):e.phone="Le numéro de téléphone est requis",ee((a=>({...a,...e}))),K(!0);const a=0===Object.keys(e).length;return $(a),a}),[c,b,p]),be=l.useCallback((async e=>{e&&e.preventDefault(),console.log("RegisterContext - Starting submission process"),se(!0);try{const e={firstName:n.trim(),lastName:u.trim(),birthDate:c?M(c,"yyyy-MM-dd"):null,nationality:b,email:g.trim(),phoneNumber:p,password:v,address:{name:L.trim(),complement:q?q.trim():"",city:D.trim(),postalCode:V.trim()}};console.log("RegisterContext - Prepared user data:",{...e,password:"***"}),console.log("RegisterContext - Calling authService.register");const a=await i.register(e);console.log("RegisterContext - Response received:",a),a&&201===a.status?(console.log("RegisterContext - Registration successful"),ie(!0),r.success("Inscription réussie ! Vous pouvez maintenant vous connecter.",{duration:5e3,position:"top-center"}),setTimeout((()=>{s("/login")}),500)):(console.error("RegisterContext - Registration failed:",a),r.error("Une erreur s'est produite. Veuillez réessayer.",{duration:5e3,position:"top-center"}))}catch(a){console.error("RegisterContext - Error during registration:",a),console.error("Error details:",{message:a?.message,response:a?.response?.data,status:a?.response?.status}),r.error(a?.response?.data?.message||"Erreur lors de l'inscription. Veuillez réessayer.")}finally{se(!1)}}),[n,u,c,b,g,p,v,L,q,D,V,s]),xe=l.useMemo((()=>({firstName:n,setFirstName:o,lastName:u,setLastName:d,birthDate:c,setBirthDate:m,nationality:b,setNationality:x,email:g,setEmail:h,phone:p,setPhone:f,password:v,setPassword:y,confirmPassword:j,setConfirmPassword:N,handleDateChange:ne,handlePhoneChange:oe})),[n,u,c,b,g,p,v,j,ne,oe]),ge=l.useMemo((()=>({addressName:L,setAddressName:z,addressComplement:q,setAddressComplement:A,city:D,setCity:T,postalCode:V,setPostalCode:P,acceptTerms:_,setAcceptTerms:F,handleAddressSelect:de,handleTermsChange:ue})),[L,q,D,V,_,de,ue]),he=l.useMemo((()=>({step1Valid:E,setStep1Valid:R,step1Attempted:G,setStep1Attempted:O,step2Valid:W,setStep2Valid:$,step2Attempted:U,setStep2Attempted:K,step1Tried:Z,setStep1Tried:J,step2Tried:Y,setStep2Tried:Q,errors:X,setErrors:ee,activeStep:ae,setActiveStep:le,isSubmitting:te,registerSuccess:re,validateStep1:ce,validateStep2:me,handleSubmit:be})),[E,G,W,U,Z,Y,X,ae,te,re,ce,me,be]);return e.jsx(B.Provider,{value:xe,children:e.jsx(I.Provider,{value:ge,children:e.jsx(H.Provider,{value:he,children:t})})})};l.forwardRef((({className:a,type:t="text",label:s,error:r,required:i=!1,...o},u)=>{const[d,c]=l.useState(!1),[m,b]=l.useState(!1);l.useEffect((()=>{b(void 0!==o.value&&""!==o.value)}),[o.value]);const x=d||m;return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:n("relative border border-gray-300 rounded-md transition-all duration-200",x?"border-[#0062FF]":"",r?"border-red-500":"",a),children:[e.jsxs("label",{htmlFor:o.id,className:n("absolute left-3 transition-all duration-200 pointer-events-none",x?"transform -translate-y-1/2 top-0 text-xs bg-white px-1 z-10":"transform translate-y-0 top-1/2 -translate-y-1/2 text-gray-500",d?"text-[#0062FF]":"text-gray-500",r?"text-red-500":""),children:[s," ",i&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:t,className:n("block w-full h-11 px-3 pt-5 pb-5 text-base bg-transparent rounded-md appearance-none focus:outline-none","transition-all duration-200"),onFocus:()=>c(!0),onBlur:()=>c(!1),ref:u,...o})]}),r&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r})]})})).displayName="FloatingInput";const $=[{value:"france",label:"France",flag:"🇫🇷"},{value:"afghanistan",label:"Afghanistan",flag:"🇦🇫"},{value:"albania",label:"Albanie",flag:"🇦🇱"},{value:"algeria",label:"Algérie",flag:"🇩🇿"},{value:"andorra",label:"Andorre",flag:"🇦🇩"},{value:"angola",label:"Angola",flag:"🇦🇴"},{value:"antigua",label:"Antigua-et-Barbuda",flag:"🇦🇬"},{value:"argentina",label:"Argentine",flag:"🇦🇷"},{value:"armenia",label:"Arménie",flag:"🇦🇲"},{value:"australia",label:"Australie",flag:"🇦🇺"},{value:"austria",label:"Autriche",flag:"🇦🇹"},{value:"azerbaijan",label:"Azerbaïdjan",flag:"🇦🇿"},{value:"bahamas",label:"Bahamas",flag:"🇧🇸"},{value:"bahrain",label:"Bahreïn",flag:"🇧🇭"},{value:"bangladesh",label:"Bangladesh",flag:"🇧🇩"},{value:"barbados",label:"Barbade",flag:"🇧🇧"},{value:"belarus",label:"Biélorussie",flag:"🇧🇾"},{value:"belgium",label:"Belgique",flag:"🇧🇪"},{value:"belize",label:"Belize",flag:"🇧🇿"},{value:"benin",label:"Bénin",flag:"🇧🇯"},{value:"bhutan",label:"Bhoutan",flag:"🇧🇹"},{value:"bolivia",label:"Bolivie",flag:"🇧🇴"},{value:"bosnia",label:"Bosnie-Herzégovine",flag:"🇧🇦"},{value:"botswana",label:"Botswana",flag:"🇧🇼"},{value:"brazil",label:"Brésil",flag:"🇧🇷"},{value:"brunei",label:"Brunei",flag:"🇧🇳"},{value:"bulgaria",label:"Bulgarie",flag:"🇧🇬"},{value:"burkina",label:"Burkina Faso",flag:"🇧🇫"},{value:"burundi",label:"Burundi",flag:"🇧🇮"},{value:"cambodia",label:"Cambodge",flag:"🇰🇭"},{value:"cameroon",label:"Cameroun",flag:"🇨🇲"},{value:"canada",label:"Canada",flag:"🇨🇦"},{value:"cape_verde",label:"Cap-Vert",flag:"🇨🇻"},{value:"central_african_republic",label:"République centrafricaine",flag:"🇨🇫"},{value:"chad",label:"Tchad",flag:"🇹🇩"},{value:"chile",label:"Chili",flag:"🇨🇱"},{value:"china",label:"Chine",flag:"🇨🇳"},{value:"colombia",label:"Colombie",flag:"🇨🇴"},{value:"comoros",label:"Comores",flag:"🇰🇲"},{value:"congo",label:"Congo",flag:"🇨🇬"},{value:"costa_rica",label:"Costa Rica",flag:"🇨🇷"},{value:"croatia",label:"Croatie",flag:"🇭🇷"},{value:"cuba",label:"Cuba",flag:"🇨🇺"},{value:"cyprus",label:"Chypre",flag:"🇨🇾"},{value:"czech_republic",label:"République tchèque",flag:"🇨🇿"},{value:"denmark",label:"Danemark",flag:"🇩🇰"},{value:"djibouti",label:"Djibouti",flag:"🇩🇯"},{value:"dominica",label:"Dominique",flag:"🇩🇲"},{value:"dominican_republic",label:"République dominicaine",flag:"🇩🇴"},{value:"east_timor",label:"Timor oriental",flag:"🇹🇱"},{value:"ecuador",label:"Équateur",flag:"🇪🇨"},{value:"egypt",label:"Égypte",flag:"🇪🇬"},{value:"el_salvador",label:"Salvador",flag:"🇸🇻"},{value:"equatorial_guinea",label:"Guinée équatoriale",flag:"🇬🇶"},{value:"eritrea",label:"Érythrée",flag:"🇪🇷"},{value:"estonia",label:"Estonie",flag:"🇪🇪"},{value:"ethiopia",label:"Éthiopie",flag:"🇪🇹"},{value:"fiji",label:"Fidji",flag:"🇫🇯"},{value:"finland",label:"Finlande",flag:"🇫🇮"},{value:"gabon",label:"Gabon",flag:"🇬🇦"},{value:"gambia",label:"Gambie",flag:"🇬🇲"},{value:"georgia",label:"Géorgie",flag:"🇬🇪"},{value:"germany",label:"Allemagne",flag:"🇩🇪"},{value:"ghana",label:"Ghana",flag:"🇬🇭"},{value:"greece",label:"Grèce",flag:"🇬🇷"},{value:"grenada",label:"Grenade",flag:"🇬🇩"},{value:"guatemala",label:"Guatemala",flag:"🇬🇹"},{value:"guinea",label:"Guinée",flag:"🇬🇳"},{value:"guinea_bissau",label:"Guinée-Bissau",flag:"🇬🇼"},{value:"guyana",label:"Guyana",flag:"🇬🇾"},{value:"haiti",label:"Haïti",flag:"🇭🇹"},{value:"honduras",label:"Honduras",flag:"🇭🇳"},{value:"hungary",label:"Hongrie",flag:"🇭🇺"},{value:"iceland",label:"Islande",flag:"🇮🇸"},{value:"india",label:"Inde",flag:"🇮🇳"},{value:"indonesia",label:"Indonésie",flag:"🇮🇩"},{value:"iran",label:"Iran",flag:"🇮🇷"},{value:"iraq",label:"Irak",flag:"🇮🇶"},{value:"ireland",label:"Irlande",flag:"🇮🇪"},{value:"israel",label:"Israël",flag:"🇮🇱"},{value:"italy",label:"Italie",flag:"🇮🇹"},{value:"jamaica",label:"Jamaïque",flag:"🇯🇲"},{value:"japan",label:"Japon",flag:"🇯🇵"},{value:"jordan",label:"Jordanie",flag:"🇯🇴"},{value:"kazakhstan",label:"Kazakhstan",flag:"🇰🇿"},{value:"kenya",label:"Kenya",flag:"🇰🇪"},{value:"kiribati",label:"Kiribati",flag:"🇰🇮"},{value:"north_korea",label:"Corée du Nord",flag:"🇰🇵"},{value:"south_korea",label:"Corée du Sud",flag:"🇰🇷"},{value:"kuwait",label:"Koweït",flag:"🇰🇼"},{value:"kyrgyzstan",label:"Kirghizistan",flag:"🇰🇬"},{value:"laos",label:"Laos",flag:"🇱🇦"},{value:"latvia",label:"Lettonie",flag:"🇱🇻"},{value:"lebanon",label:"Liban",flag:"🇱🇧"},{value:"lesotho",label:"Lesotho",flag:"🇱🇸"},{value:"liberia",label:"Libéria",flag:"🇱🇷"},{value:"libya",label:"Libye",flag:"🇱🇾"},{value:"liechtenstein",label:"Liechtenstein",flag:"🇱🇮"},{value:"lithuania",label:"Lituanie",flag:"🇱🇹"},{value:"luxembourg",label:"Luxembourg",flag:"🇱🇺"},{value:"macedonia",label:"Macédoine du Nord",flag:"🇲🇰"},{value:"madagascar",label:"Madagascar",flag:"🇲🇬"},{value:"malawi",label:"Malawi",flag:"🇲🇼"},{value:"malaysia",label:"Malaisie",flag:"🇲🇾"},{value:"maldives",label:"Maldives",flag:"🇲🇻"},{value:"mali",label:"Mali",flag:"🇲🇱"},{value:"malta",label:"Malte",flag:"🇲🇹"},{value:"marshall_islands",label:"Îles Marshall",flag:"🇲🇭"},{value:"mauritania",label:"Mauritanie",flag:"🇲🇷"},{value:"mauritius",label:"Maurice",flag:"🇲🇺"},{value:"mexico",label:"Mexique",flag:"🇲🇽"},{value:"micronesia",label:"Micronésie",flag:"🇫🇲"},{value:"moldova",label:"Moldavie",flag:"🇲🇩"},{value:"monaco",label:"Monaco",flag:"🇲🇨"},{value:"mongolia",label:"Mongolie",flag:"🇲🇳"},{value:"montenegro",label:"Monténégro",flag:"🇲🇪"},{value:"morocco",label:"Maroc",flag:"🇲🇦"},{value:"mozambique",label:"Mozambique",flag:"🇲🇿"},{value:"myanmar",label:"Myanmar",flag:"🇲🇲"},{value:"namibia",label:"Namibie",flag:"🇳🇦"},{value:"nauru",label:"Nauru",flag:"🇳🇷"},{value:"nepal",label:"Népal",flag:"🇳🇵"},{value:"netherlands",label:"Pays-Bas",flag:"🇳🇱"},{value:"new_zealand",label:"Nouvelle-Zélande",flag:"🇳🇿"},{value:"nicaragua",label:"Nicaragua",flag:"🇳🇮"},{value:"niger",label:"Niger",flag:"🇳🇪"},{value:"nigeria",label:"Nigeria",flag:"🇳🇬"},{value:"norway",label:"Norvège",flag:"🇳🇴"},{value:"oman",label:"Oman",flag:"🇴🇲"},{value:"pakistan",label:"Pakistan",flag:"🇵🇰"},{value:"palau",label:"Palaos",flag:"🇵🇼"},{value:"panama",label:"Panama",flag:"🇵🇦"},{value:"papua_new_guinea",label:"Papouasie-Nouvelle-Guinée",flag:"🇵🇬"},{value:"paraguay",label:"Paraguay",flag:"🇵🇾"},{value:"peru",label:"Pérou",flag:"🇵🇪"},{value:"philippines",label:"Philippines",flag:"🇵🇭"},{value:"poland",label:"Pologne",flag:"🇵🇱"},{value:"portugal",label:"Portugal",flag:"🇵🇹"},{value:"qatar",label:"Qatar",flag:"🇶🇦"},{value:"romania",label:"Roumanie",flag:"🇷🇴"},{value:"russia",label:"Russie",flag:"🇷🇺"},{value:"rwanda",label:"Rwanda",flag:"🇷🇼"},{value:"saint_kitts",label:"Saint-Kitts-et-Nevis",flag:"🇰🇳"},{value:"saint_lucia",label:"Sainte-Lucie",flag:"🇱🇨"},{value:"saint_vincent",label:"Saint-Vincent-et-les-Grenadines",flag:"🇻🇨"},{value:"samoa",label:"Samoa",flag:"🇼🇸"},{value:"san_marino",label:"Saint-Marin",flag:"🇸🇲"},{value:"sao_tome",label:"Sao Tomé-et-Principe",flag:"🇸🇹"},{value:"saudi_arabia",label:"Arabie saoudite",flag:"🇸🇦"},{value:"senegal",label:"Sénégal",flag:"🇸🇳"},{value:"serbia",label:"Serbie",flag:"🇷🇸"},{value:"seychelles",label:"Seychelles",flag:"🇸🇨"},{value:"sierra_leone",label:"Sierra Leone",flag:"🇸🇱"},{value:"singapore",label:"Singapour",flag:"🇸🇬"},{value:"slovakia",label:"Slovaquie",flag:"🇸🇰"},{value:"slovenia",label:"Slovénie",flag:"🇸🇮"},{value:"solomon_islands",label:"Îles Salomon",flag:"🇸🇧"},{value:"somalia",label:"Somalie",flag:"🇸🇴"},{value:"south_africa",label:"Afrique du Sud",flag:"🇿🇦"},{value:"south_sudan",label:"Soudan du Sud",flag:"🇸🇸"},{value:"spain",label:"Espagne",flag:"🇪🇸"},{value:"sri_lanka",label:"Sri Lanka",flag:"🇱🇰"},{value:"sudan",label:"Soudan",flag:"🇸🇩"},{value:"suriname",label:"Suriname",flag:"🇸🇷"},{value:"swaziland",label:"Eswatini",flag:"🇸🇿"},{value:"sweden",label:"Suède",flag:"🇸🇪"},{value:"switzerland",label:"Suisse",flag:"🇨🇭"},{value:"syria",label:"Syrie",flag:"🇸🇾"},{value:"taiwan",label:"Taïwan",flag:"🇹🇼"},{value:"tajikistan",label:"Tadjikistan",flag:"🇹🇯"},{value:"tanzania",label:"Tanzanie",flag:"🇹🇿"},{value:"thailand",label:"Thaïlande",flag:"🇹🇭"},{value:"togo",label:"Togo",flag:"🇹🇬"},{value:"tonga",label:"Tonga",flag:"🇹🇴"},{value:"trinidad",label:"Trinité-et-Tobago",flag:"🇹🇹"},{value:"tunisia",label:"Tunisie",flag:"🇹🇳"},{value:"turkey",label:"Turquie",flag:"🇹🇷"},{value:"turkmenistan",label:"Turkménistan",flag:"🇹🇲"},{value:"tuvalu",label:"Tuvalu",flag:"🇹🇻"},{value:"uganda",label:"Ouganda",flag:"🇺🇬"},{value:"ukraine",label:"Ukraine",flag:"🇺🇦"},{value:"united_arab_emirates",label:"Émirats arabes unis",flag:"🇦🇪"},{value:"united_kingdom",label:"Royaume-Uni",flag:"🇬🇧"},{value:"united_states",label:"États-Unis",flag:"🇺🇸"},{value:"uruguay",label:"Uruguay",flag:"🇺🇾"},{value:"uzbekistan",label:"Ouzbékistan",flag:"🇺🇿"},{value:"vanuatu",label:"Vanuatu",flag:"🇻🇺"},{value:"vatican",label:"Vatican",flag:"🇻🇦"},{value:"venezuela",label:"Venezuela",flag:"🇻🇪"},{value:"vietnam",label:"Viêt Nam",flag:"🇻🇳"},{value:"yemen",label:"Yémen",flag:"🇾🇪"},{value:"zambia",label:"Zambie",flag:"🇿🇲"},{value:"zimbabwe",label:"Zimbabwe",flag:"🇿🇼"}],U=l.memo((({country:a,isSelected:l,onClick:t})=>e.jsxs("div",{className:"country-item px-2 py-1.5 flex items-center justify-between rounded-sm cursor-pointer text-gray-900",onClick:t,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2 text-lg",children:a.flag}),e.jsx("span",{children:a.label})]}),e.jsx(m,{className:n("ml-auto h-4 w-4",l?"opacity-100":"opacity-0")})]})));function K({value:a,onChange:t,error:s}){const[r,i]=l.useState(!1),[m,b]=l.useState(""),x=l.useMemo((()=>$.find((e=>e.value===a))),[a]),g=l.useMemo((()=>{if(!m)return $;const e=m.toLowerCase();return $.filter((a=>a.label.toLowerCase().includes(e)||a.value.toLowerCase().includes(e)))}),[m]),h=l.useCallback((e=>{i(e),e||b("")}),[]),p=l.useCallback((e=>{b(e)}),[]),f=l.useCallback((e=>{e.preventDefault(),i(!1)}),[]),v=l.useCallback((e=>()=>{t(e),i(!1),b("")}),[t]);return e.jsxs("div",{className:"relative",children:[e.jsxs(o,{open:r,onOpenChange:h,children:[e.jsx(u,{asChild:!0,children:e.jsxs(d,{variant:"outline",role:"combobox","aria-expanded":r,className:n("w-full h-14 justify-between font-normal",!a&&"text-gray-500",s&&"border-red-500"),children:[x?e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2 text-lg",children:x.flag}),e.jsx("span",{children:x.label})]}):"Sélectionnez un pays",e.jsx(V,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(c,{className:"w-full p-0 max-h-[300px] overflow-y-auto",style:{width:"var(--radix-popover-trigger-width)"},onOpenAutoFocus:e=>e.preventDefault(),onCloseAutoFocus:e=>e.preventDefault(),onEscapeKeyDown:f,children:e.jsxs(z,{className:"w-full",children:[e.jsx(q,{placeholder:"Rechercher un pays...",className:"h-9",autoFocus:!1,value:m,onValueChange:p}),e.jsxs(A,{className:"max-h-[250px]",children:[0===g.length&&e.jsx(D,{children:"Aucun pays trouvé."}),e.jsx(T,{children:g.map((l=>e.jsx(U,{country:l,isSelected:a===l.value,onClick:v(l.value)},l.value)))})]})]})})]}),s&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s})]})}U.displayName="CountryItem";const Z=l.forwardRef((({className:a,error:t,required:s=!1,onValueChange:r,onAddressSelect:i,inputClassName:o,...u},d)=>{const[c,m]=l.useState(!1),[x,g]=l.useState(""),[h,p]=l.useState([]),[f,v]=l.useState(!1),[y,j]=l.useState(-1),[N,w]=l.useState(!1),[C,k]=l.useState(""),S=l.useRef(null),L=l.useRef(null);l.useEffect((()=>{const e=e=>{S.current&&!S.current.contains(e.target)&&w(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]),l.useEffect((()=>{m(void 0!==u.value&&""!==u.value),g(u.value||"")}),[u.value]);const M=l.useCallback((async e=>{if(e.length<3)return p([]),void w(!1);v(!0);try{const a=await P.searchAddress(e);a&&a.length>0?(p(a),w(!0)):(p([]),w(!1))}catch(a){p([]),w(!1)}finally{v(!1)}}),[]);l.useEffect((()=>{const e=setTimeout((()=>{const e=x?.trim(),a=e&&e.length>=3&&!(/^\d+$/.test(e)&&e.length<5)&&!(1===e.split(/\s+/).length&&e.length<4);e&&e.length<3?k("Veuillez saisir au moins 3 caractères"):/^\d+$/.test(e)&&e.length<5?k("Pour un code postal, saisissez les 5 chiffres"):e&&e.length<4?k("Veuillez préciser votre recherche"):k(""),a?M(e):(p([]),w(!1))}),300);return()=>clearTimeout(e)}),[x,M]);const z=l.useCallback((()=>{x&&x.length>=3&&h.length>0&&w(!0)}),[x,h.length]),q=l.useCallback((()=>{setTimeout((()=>{L.current?.contains(document.activeElement)||w(!1)}),200)}),[]),A=l.useCallback((e=>{const a=e.target.value;g(a),r&&r(a)}),[r]),D=l.useCallback((e=>{const a=e.label;g(a),m(!0),w(!1),j(-1),i&&i({address:a,houseNumber:e.houseNumber,street:e.street,postcode:e.postcode,city:e.city,coordinates:e.coordinates}),r&&r(a)}),[i,r,u.name]),T=l.useCallback((e=>{N&&("ArrowDown"===e.key?(e.preventDefault(),j((e=>e<h.length-1?e+1:e))):"ArrowUp"===e.key?(e.preventDefault(),j((e=>e>0?e-1:0))):"Enter"===e.key&&y>=0?(e.preventDefault(),D(h[y])):"Escape"===e.key&&(w(!1),j(-1)))}),[N,h,y,D]),V=n("relative border border-gray-300 rounded-md transition-all duration-200",t?"border-red-500":"",a),F=n("block w-full h-11 px-3 py-2 text-base bg-transparent rounded-md appearance-none focus:outline-none text-white","transition-all duration-200",o);return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:V,children:[e.jsx("input",{type:"text",className:F,onFocus:z,onBlur:q,onChange:A,onKeyDown:T,value:x,ref:d,autoComplete:"off",...u}),f&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx(_,{className:"h-4 w-4 text-gray-400 animate-spin"})})]}),t?e.jsx("p",{className:"text-red-500 text-xs mt-1",children:t}):C?e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:C}):null,N&&h.length>0&&e.jsx("div",{ref:L,className:"absolute z-50 w-full mt-1 bg-gray-800 rounded-md shadow-lg max-h-60 overflow-y-auto fade-in-up border border-gray-700",children:e.jsx("ul",{className:"py-1",children:h.map(((a,l)=>e.jsxs("li",{className:n("px-3 py-2 cursor-pointer flex items-start gap-2","hover:bg-gray-700 transition-colors duration-150 text-white",y===l?"bg-gray-700":""),onClick:()=>D(a),onMouseEnter:()=>j(l),children:[e.jsx(b,{className:"h-5 w-5 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-gray-200",children:a.label}),e.jsx("span",{className:"text-xs text-gray-500",children:a.context})]})]},a.id||l)))})})]})}));Z.displayName="AddressAutocomplete";const J=({goToNextStep:a})=>{const{firstName:t,setFirstName:s,lastName:r,setLastName:i,email:n,setEmail:o,password:u,setPassword:c}=G(),{setStep1Tried:m,setErrors:b}=O(),[g,h]=l.useState({}),[p,f]=l.useState(!1),v=e=>g[e],y=e=>g[e]||null;return e.jsxs(x.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"firstName",className:"block text-sm font-medium text-blue-300 mb-1",children:["Prénom ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{id:"firstName",type:"text",className:"w-full px-4 py-3 rounded-md border bg-gray-800/50 text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 "+(v("firstName")?"border-red-500":"border-gray-700"),value:t,onChange:e=>s(e.target.value),placeholder:"Votre prénom",required:!0}),v("firstName")?e.jsx("p",{className:"text-red-400 text-xs mt-1",children:y("firstName")}):e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Champ requis"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"lastName",className:"block text-sm font-medium text-blue-300 mb-1",children:["Nom ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{id:"lastName",type:"text",className:"w-full px-4 py-3 rounded-md border bg-gray-800/50 text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 "+(v("lastName")?"border-red-500":"border-gray-700"),value:r,onChange:e=>i(e.target.value),placeholder:"Votre nom",required:!0}),v("lastName")?e.jsx("p",{className:"text-red-400 text-xs mt-1",children:y("lastName")}):e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Champ requis"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-blue-300 mb-1",children:["Email ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{id:"email",type:"email",className:"w-full px-4 py-3 rounded-md border bg-gray-800/50 text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 "+(v("email")?"border-red-500":"border-gray-700"),value:n,onChange:e=>o(e.target.value),placeholder:"email@exemple.com",required:!0}),v("email")?e.jsx("p",{className:"text-red-400 text-xs mt-1",children:y("email")}):e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Champ requis"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-blue-300 mb-1",children:["Mot de passe ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:p?"text":"password",className:"w-full px-4 py-3 pr-10 rounded-md border bg-gray-800/50 text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 "+(v("password")?"border-red-500":"border-gray-700"),value:u,onChange:e=>c(e.target.value),placeholder:"Minimum 8 caractères",required:!0}),e.jsx(d,{type:"button",variant:"ghost",size:"icon",className:"absolute right-3 top-1/2 -translate-y-1/2 h-8 w-8 hover:bg-transparent",onClick:()=>f((e=>!e)),children:p?e.jsx(E,{className:"h-4 w-4 text-gray-400"}):e.jsx(R,{className:"h-4 w-4 text-gray-400"})})]}),v("password")?e.jsx("p",{className:"text-red-400 text-xs mt-1",children:y("password")}):e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Champ requis - Minimum 8 caractères"}),e.jsx(F,{password:u})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsxs(x.button,{type:"button",className:"h-12 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white px-6 rounded-md flex items-center justify-center shadow-lg shadow-blue-900/20",onClick:()=>{(()=>{m(!0),b({});const e={};let a=!0;return t&&""!==t.trim()||(e.firstName="Le prénom est requis",a=!1),r&&""!==r.trim()||(e.lastName="Le nom est requis",a=!1),n&&""!==n.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||(e.email="Veuillez entrer un email valide",a=!1):(e.email="L'email est requis",a=!1),u&&""!==u.trim()?u.length<8&&(e.password="Le mot de passe doit contenir au moins 8 caractères",a=!1):(e.password="Le mot de passe est requis",a=!1),h(e),a})()&&a()},whileHover:{scale:1.03},whileTap:{scale:.98},children:["Continuer",e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})},Y=l.lazy((()=>y((()=>import("./index-18AXJEkp.js")),__vite__mapDeps([0,1,2,3,4])))),Q=l.memo((()=>e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"w-8 h-8 border-t-2 border-b-2 border-[#0066ff] rounded-full animate-spin"})})));Q.displayName="CalendarFallback";const X=({goToNextStep:a,goToPrevStep:s})=>{const{birthDate:r,nationality:i,setNationality:n,phone:o,handleDateChange:u,handlePhoneChange:d}=G(),{step2Tried:c}=O(),[m,b]=l.useState(!1),[y,j]=t.useState({}),N=r?new Intl.DateTimeFormat("fr-FR").format(r):null,w=e=>c&&y[e],C=e=>y[e]||null;return e.jsxs(x.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-blue-300 mb-1",children:["Date de naissance ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"w-full px-4 py-3 rounded-md border flex items-center cursor-pointer transition-colors hover:border-[#0066ff] "+(w("birthDate")?"border-red-500":"border-gray-700"),onClick:()=>b(!0),children:[N?e.jsx("span",{className:"text-blue-300",children:N}):e.jsx("span",{className:"text-gray-500",children:"JJ/MM/AAAA"}),e.jsx(g,{className:"ml-auto h-5 w-5 text-gray-500"})]}),e.jsx(h,{open:m,onOpenChange:b,children:e.jsxs(p,{className:"p-0 sm:max-w-[425px] bg-gray-800 rounded-lg shadow-xl border-none overflow-hidden",children:[e.jsxs("div",{className:"p-4 pb-0",children:[e.jsx(f,{className:"text-xl font-semibold text-center text-blue-300",children:"Sélectionnez votre date de naissance"}),e.jsx(v,{className:"text-sm text-center text-gray-500 mt-1",children:"Vous devez avoir au moins 16 ans pour vous inscrire."})]}),e.jsx("div",{className:"calendar-container w-full p-4",children:e.jsx(l.Suspense,{fallback:e.jsx(Q,{}),children:e.jsx(Y,{onChange:u,value:r,locale:"fr",maxDate:new Date,minDetail:"decade",defaultView:"century",minDate:new Date(1940,0,1),className:"modern-calendar w-full",formatShortWeekday:(e,a)=>["L","M","M","J","V","S","D"][a.getDay()],navigationLabel:({date:e})=>e.toLocaleString("fr",{month:"long",year:"numeric"}).toLowerCase(),next2Label:e.jsx("span",{className:"text-lg text-[#0066ff]",children:"»"}),prev2Label:e.jsx("span",{className:"text-lg text-[#0066ff]",children:"«"}),nextLabel:e.jsx("span",{className:"text-lg text-[#0066ff]",children:"›"}),prevLabel:e.jsx("span",{className:"text-lg text-[#0066ff]",children:"‹"}),showNeighboringMonth:!1,tileClassName:({date:e,view:a})=>{const l=new Date;return l.setHours(0,0,0,0),"month"===a&&e>l?"calendar-future-date":null}})})}),e.jsx("div",{className:"p-4 flex justify-end",children:e.jsx("button",{className:"calendar-confirm-button",onClick:()=>b(!1),children:"Confirmer"})})]})}),w("birthDate")?e.jsx("p",{className:"text-red-400 text-xs mt-1",children:C("birthDate")}):e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Champ requis - Vous devez avoir au moins 16 ans"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-blue-300 mb-1",children:["Nationalité ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx(K,{value:i,onChange:n,error:w("nationality")?C("nationality"):null,className:"w-full px-4 py-3 rounded-md border bg-gray-800/50 text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500",required:!0}),w("nationality")?e.jsx("p",{className:"text-red-400 text-xs mt-1",children:C("nationality")}):e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Champ requis"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-blue-300 mb-1",children:["Numéro de téléphone ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx(L,{id:"phone",value:o,onChange:d,error:w("phone")?C("phone"):null,placeholder:"+33 6 12 34 56 78",className:"w-full px-4 py-3 rounded-md border bg-gray-800/50 text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500",required:!0}),w("phone")?e.jsx("p",{className:"text-red-400 text-xs mt-1",children:C("phone")}):e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Champ requis - Format français uniquement (+33)"})]}),e.jsxs("div",{className:"flex space-x-4 mt-8",children:[e.jsxs(x.button,{type:"button",className:"flex-1 h-12 bg-gray-700/50 hover:bg-gray-700 text-blue-300 border border-gray-600 rounded-md flex items-center justify-center",onClick:s,whileHover:{scale:1.03},whileTap:{scale:.98},children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Retour"]}),e.jsxs(x.button,{type:"button",className:"flex-1 h-12 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white px-6 rounded-md flex items-center justify-center shadow-lg shadow-blue-900/20",onClick:()=>{(()=>{const e={};let a=!0;return r||(e.birthDate="La date de naissance est requise",a=!1),i||(e.nationality="La nationalité est requise",a=!1),o&&""!==o.trim()?S(o)||(e.phone="Veuillez entrer un numéro de téléphone français valide",a=!1):(e.phone="Le numéro de téléphone est requis",a=!1),j(e),a})()&&a()},whileHover:{scale:1.03},whileTap:{scale:.98},children:["Continuer",e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]})},ee=({goToPrevStep:a,onSubmit:t})=>{const{addressName:s,setAddressName:r,addressComplement:i,setAddressComplement:n,city:o,setCity:u,postalCode:d,setPostalCode:c,handleAddressSelect:m}=(()=>{const e=l.useContext(I);if(!e)throw new Error("useAddress doit être utilisé à l'intérieur d'un RegisterProvider");return e})(),{setStep3Tried:b,setErrors:g}=O(),[h,p]=l.useState({}),[f,v]=l.useState(!1),y=e=>h[e],j=e=>h[e]||null;return e.jsx(x.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:e.jsxs("form",{onSubmit:async e=>{e&&e.preventDefault(),console.log("Step3Form - Starting form submission"),console.log("Current form data:",{addressName:s,addressComplement:i,city:o,postalCode:d});const a=(()=>{const e={};let a=!0;return s&&""!==s.trim()||(e.addressName="L'adresse est requise",a=!1),o&&""!==o.trim()||(e.city="La ville est requise",a=!1),d&&""!==d.trim()?/^\d{5}$/.test(d)||(e.postalCode="Le code postal doit contenir 5 chiffres",a=!1):(e.postalCode="Le code postal est requis",a=!1),p(e),a})();if(console.log("Form validation result:",a),console.log("Validation errors:",h),a)try{console.log("Attempting to submit form..."),t(e)}catch(l){console.error("Error during form submission:",l),p({...h,addressName:"Erreur lors de la validation de l'adresse. Veuillez réessayer."})}else console.log("Form validation failed")},children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"addressName",className:"block text-sm font-medium text-blue-300 mb-1",children:["Adresse ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx(Z,{id:"addressName",value:s,onValueChange:r,onAddressSelect:m,placeholder:"Saisissez votre adresse...",className:""+(y("addressName")?"border-red-500":"border-gray-700"),required:!0}),y("addressName")?e.jsx("p",{className:"text-red-400 text-xs mt-1",children:j("addressName")}):e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Champ requis - Saisissez votre adresse complète"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"addressComplement",className:"block text-sm font-medium text-blue-300 mb-1",children:["Complément d'adresse ",e.jsx("span",{className:"text-blue-400 text-xs",children:"(optionnel)"})]}),e.jsx("input",{id:"addressComplement",type:"text",className:"w-full px-4 py-3 rounded-md border border-gray-700 bg-gray-800/50 text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500",value:i,onChange:e=>n(e.target.value),placeholder:"Appartement, étage, etc."}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Informations supplémentaires pour faciliter la livraison"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"city",className:"block text-sm font-medium text-blue-300 mb-1",children:["Ville ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{id:"city",type:"text",className:"w-full px-4 py-3 rounded-md border bg-gray-800/50 text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 "+(y("city")?"border-red-500":"border-gray-700"),value:o,onChange:e=>u(e.target.value),placeholder:"Paris",required:!0}),y("city")?e.jsx("p",{className:"text-red-400 text-xs mt-1",children:j("city")}):e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Champ requis"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-blue-300 mb-1",children:["Code postal ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{id:"postalCode",type:"text",className:"w-full px-4 py-3 rounded-md border bg-gray-800/50 text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 "+(y("postalCode")?"border-red-500":"border-gray-700"),value:d,onChange:e=>c(e.target.value),placeholder:"75001",maxLength:5,required:!0}),y("postalCode")?e.jsx("p",{className:"text-red-400 text-xs mt-1",children:j("postalCode")}):e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Champ requis - Format: 5 chiffres"})]})]}),e.jsxs("div",{className:"flex justify-between mt-6 space-x-4",children:[e.jsxs(x.button,{type:"button",className:"h-12 bg-gray-700/50 hover:bg-gray-700 text-blue-300 px-6 rounded-md flex items-center justify-center border border-gray-600",onClick:a,disabled:f,whileHover:{scale:1.03},whileTap:{scale:.98},children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Retour"]}),e.jsx(x.button,{type:"submit",className:"h-12 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white px-6 rounded-md flex items-center justify-center shadow-lg shadow-blue-900/20",disabled:f,whileHover:{scale:1.03},whileTap:{scale:.98},children:f?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Inscription en cours..."]}):"S'inscrire"})]})]})})},ae=l.memo((({children:a})=>e.jsx(x.div,{initial:"initial",animate:"in",exit:"out",variants:{initial:{opacity:0,y:5},in:{opacity:1,y:0},out:{opacity:0,y:-5}},transition:{type:"tween",ease:[.25,.1,.25,1],duration:.3},style:{willChange:"opacity, transform",transform:"translateZ(0)"},children:a})));ae.displayName="FormTransition",l.lazy((()=>y((()=>import("./index-18AXJEkp.js")),__vite__mapDeps([0,1,2,3,4]))));l.memo((()=>e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"w-8 h-8 border-t-2 border-b-2 border-gray-900 rounded-full animate-spin"})}))).displayName="CalendarFallback";const le=()=>{const{setErrors:a,setStep1Attempted:t,setStep2Attempted:r}=O(),{handleSubmit:i,isSubmitting:n}=O(),o=l.useRef(1),[u,d]=l.useState(1),c=(u-1)/2*100,m=l.useCallback((()=>{1===u?t(!0):2===u&&r(!0),d((e=>e+1))}),[u,t,r]),b=l.useCallback((()=>{u>1&&d((e=>e-1))}),[u]);l.useEffect((()=>{a({})}),[a]),l.useEffect((()=>{o.current!==u&&(a({}),o.current=u)}),[u,a]);const x=l.useCallback((e=>{e.preventDefault();const a={...e,preventDefault:()=>{e.preventDefault()},validationComplete:!0,target:e.target};i(a)}),[i]);return e.jsxs("div",{className:"w-full bg-gray-900/80 backdrop-blur-sm rounded-lg shadow-2xl mx-auto overflow-hidden border border-blue-500/30",children:[e.jsxs("div",{className:"bg-[#02284f]/90 text-white p-6 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 right-1/4 w-20 h-20 bg-blue-500 rounded-full filter blur-3xl opacity-10 animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-16 h-16 bg-indigo-500 rounded-full filter blur-3xl opacity-10 animate-pulse",style:{animationDelay:"1.5s"}})]}),e.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[e.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-300 to-indigo-400",children:"Créez votre compte"}),e.jsxs("span",{className:"text-sm font-medium text-blue-200",children:["Étape ",u,"/",3]})]}),e.jsxs("div",{className:"mt-6 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-blue-200",children:["Informations personnelles","Coordonnées","Adresse"][u-1]}),e.jsxs("span",{className:"text-sm font-medium text-blue-200",children:[c,"%"]})]}),e.jsx("div",{className:"w-full bg-[#1a3c61] rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 h-2 rounded-full transition-all duration-300 ease-in-out",style:{width:`${c}%`}})})]})]}),e.jsx(ae,{children:e.jsxs("div",{className:"p-6 relative",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(10)].map(((a,l)=>e.jsx("div",{className:"absolute bg-white rounded-full",style:{top:100*Math.random()+"%",left:100*Math.random()+"%",width:1.5*Math.random()+.5+"px",height:1.5*Math.random()+.5+"px",opacity:.3*Math.random()+.1}},l)))}),e.jsxs("div",{className:"relative z-10",children:[1===u&&e.jsx(J,{goToNextStep:m}),2===u&&e.jsx(X,{goToNextStep:m,goToPrevStep:b}),3===u&&e.jsx(ee,{goToPrevStep:b,onSubmit:x}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-blue-200",children:["Déjà inscrit ? ",e.jsx(s,{to:"/login",className:"text-blue-400 font-medium hover:underline",children:"Se connecter"})]})})]})]})})]})},te=()=>{const{colorMode:a,currentTheme:l}=j();return e.jsx(N,{children:e.jsxs("div",{className:`min-h-screen ${l.bg} flex flex-col md:flex-row w-full overflow-hidden relative`,children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 left-1/5 w-80 h-80 bg-blue-500 rounded-full filter blur-3xl opacity-15 animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-60 h-60 bg-purple-500 rounded-full filter blur-3xl opacity-10 animate-pulse",style:{animationDelay:"1.5s"}}),e.jsx("div",{className:"absolute top-2/3 left-1/3 w-40 h-40 bg-cyan-500 rounded-full filter blur-3xl opacity-10 animate-pulse",style:{animationDelay:"2.2s"}}),[...Array(30)].map(((a,l)=>e.jsx(x.div,{className:"absolute bg-white rounded-full",style:{top:100*Math.random()+"%",left:100*Math.random()+"%",width:2*Math.random()+1+"px",height:2*Math.random()+1+"px"},initial:{opacity:0},animate:{opacity:[.2,1,.2],scale:[1,1.2,1]},transition:{duration:3*Math.random()+2,delay:2*Math.random(),repeat:1/0,repeatType:"reverse"}},l))),[...Array(3)].map(((a,l)=>e.jsx(x.div,{className:"absolute h-0.5 bg-gradient-to-r from-transparent via-white to-transparent",style:{top:70*Math.random()+"%",left:"-10%",width:"10%",transform:`rotate(${15+30*Math.random()}deg)`},initial:{left:"-10%",opacity:0},animate:{left:"120%",opacity:[0,1,1,0]},transition:{duration:2+2*Math.random(),delay:2+5*l+7*Math.random(),repeat:1/0,repeatDelay:15+10*Math.random()}},l)))]}),e.jsx(x.div,{className:`md:w-5/12 ${l.bg} text-white p-8 flex flex-col justify-center items-center relative z-10`,initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:e.jsxs("div",{className:"max-w-md mx-auto text-center",children:[e.jsx(x.div,{className:"mb-10",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.3},children:e.jsxs("svg",{className:"w-32 h-32 mx-auto text-[#528eb2]",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M12 3L1 9L5 11.18V17.18L12 21L19 17.18V11.18L21 10.09V17H23V9L12 3Z",fill:"currentColor"}),e.jsx("path",{d:"M5 9H19V9L12 13L5 9Z",fill:"currentColor",fillOpacity:"0.5"})]})}),e.jsx(x.h1,{className:"mb-6 text-4xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-blue-300 to-indigo-400",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:"Rejoignez l'Aventure Spatiale"}),e.jsx(x.p,{className:"mb-8 text-xl text-blue-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:"Créez votre compte en quelques étapes et commencez votre voyage éducatif avec nous."}),e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs(x.div,{className:"flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.6},children:[e.jsx("div",{className:"flex-shrink-0 bg-[#528eb2]/20 w-12 h-12 rounded-full flex items-center justify-center mr-4",children:e.jsx("svg",{className:"w-6 h-6 text-[#528eb2]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:"Vos données sont sécurisées"}),e.jsx("p",{className:"text-sm text-blue-200",children:"Protection par cryptage avancé"})]})]}),e.jsxs(x.div,{className:"flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.7},children:[e.jsx("div",{className:"flex-shrink-0 bg-[#528eb2]/20 w-12 h-12 rounded-full flex items-center justify-center mr-4",children:e.jsx("svg",{className:"w-6 h-6 text-[#528eb2]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:"Processus rapide"}),e.jsx("p",{className:"text-sm text-blue-200",children:"Inscription en moins de 2 minutes"})]})]}),e.jsxs(x.div,{className:"flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.8},children:[e.jsx("div",{className:"flex-shrink-0 bg-[#528eb2]/20 w-12 h-12 rounded-full flex items-center justify-center mr-4",children:e.jsx("svg",{className:"w-6 h-6 text-[#528eb2]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:"Accessible partout"}),e.jsx("p",{className:"text-sm text-blue-200",children:"Sur tous vos appareils"})]})]})]})]})}),e.jsx(x.div,{className:`md:w-7/12 ${l.bg} p-8 flex items-center justify-center relative z-10`,initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},children:e.jsx("div",{className:"w-full max-w-xl",children:e.jsx(W,{children:e.jsx(le,{})})})})]})})};export{te as default};
