import{j as e}from"./ui-B5ZVMT00.js";import{r as s,b as a}from"./router-Cgxi-4fo.js";import{y as r,z as l,L as t,E as i,F as d,U as n,G as o,B as c,D as m,k as u,H as h,l as p,n as x,I as f,S as g,t as j,j as N,J as w,M as v,K as b,N as y,O as E,Q as k,R as U,T as D,V as C,W as S,X as P,Y as M,o as L,q as A,r as F,s as R,v as I,p as T,b as O}from"./index-2R14kkJt.js";import{u as z}from"./query-DUefEkVx.js";import{U as $}from"./upload-CbuHoF_O.js";import{T as _}from"./trash-2-bX-3m8UD.js";import{i as q,b as V,c as J,d as Q,e as B}from"./phone-input-C_3hd0Vp.js";import{L as G}from"./label-B36SXJd3.js";import{I as K}from"./input-BH5hxCrP.js";import{S as W}from"./separator-PY1WL9PD.js";import{E as Y,S as H,f as Z,a as X}from"./JobSeekingSettings-D2-0H4Qz.js";import{a as ee}from"./api-D3zjRamT.js";import{P as se}from"./pencil-Buk6YvEu.js";import{P as ae}from"./phone-DU3tWTFg.js";import"./command-CcqSteC9.js";import"./react-0RZ2pslC.js";import"./charts-D4j3G6dB.js";import"./index-C5yUV9-x.js";import"./download-BlzxWhi_.js";import"./circle-check-BjrUXFkV.js";import"./circle-alert-k-R5ODIb.js";import"./switch-B9CMTkaN.js";
/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=r("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),le=r("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),te=()=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative mb-2",children:[e.jsx(g,{className:"w-20 h-20 sm:w-28 sm:h-28 md:w-32 md:h-32 rounded-full"}),e.jsx(g,{className:"absolute bottom-2 right-2 w-6 h-6 sm:w-8 sm:h-8 rounded-full"})]}),e.jsx(g,{className:"h-6 w-32 mb-1"}),e.jsx(g,{className:"h-4 w-48"})]}),ie=({userData:r,onProfilePictureChange:g,isLoading:N=!1})=>{const w=s.useRef(null),[v,b]=a.useState(!1),[y,E]=a.useState(!1),{profilePictureUrl:k,isLoading:U,isFetching:D,refetch:C,uploadProfilePicture:S,deleteProfilePicture:P,uploadStatus:M,deleteStatus:L}=l(),A=s.useRef(null);s.useRef(((e,s)=>{let a;return function(...r){clearTimeout(a),a=setTimeout((()=>{clearTimeout(a),e(...r)}),s)}})((e=>{var s;!g||((s=e)&&s.startsWith("blob:")||s===A.current||(A.current=s,0))||g(e)}),2e3)).current,a.useEffect((()=>{}),[k]);const F=()=>{M.isPending||L.isPending||w.current?.click()},R=U||D||L.isPending||M.isPending||N;if(U&&!k)return e.jsx(te,{});return console.log("RENDER ProfilePicture",{userData:r,profilePictureUrl:k}),e.jsxs("div",{className:"p-4 sm:p-6 max-w-md mx-auto",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative mb-3",children:[e.jsxs("div",{className:"w-20 h-20 sm:w-28 sm:h-28 md:w-32 md:h-32 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden group relative cursor-pointer border-2 border-white dark:border-gray-700 shadow-sm",onClick:F,children:[M.isPending||y?e.jsx(t,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-10 md:h-10 text-gray-400 animate-spin"}):k?e.jsx("img",{src:k?k.startsWith("blob:")?null:k:null,alt:"Photo de profil",className:"object-cover w-full h-full",onError:e=>{e.target.style.display="none",e.target.onerror=null;const s=document.createElement("div");s.innerHTML='<div class="w-full h-full flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-10 h-10 sm:w-14 sm:h-14 md:w-16 md:h-16 text-gray-400"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg></div>',e.target.parentNode.appendChild(s.firstChild)}}):e.jsx(i,{className:"w-full h-full",children:e.jsx(d,{className:"bg-gradient-to-r from-[#02284f] to-[#03386b] text-white",children:e.jsx(n,{className:"w-10 h-10 sm:w-14 sm:h-14 md:w-16 md:h-16"})})}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(o,{className:"w-6 h-6 sm:w-8 sm:h-8 md:w-10 md:h-10 text-white"})})]}),e.jsx("input",{ref:w,type:"file",accept:"image/*",className:"hidden",onChange:async e=>{const s=e.target.files?.[0];if(!s)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(s.type))return void j.error("Type de fichier non autorisé. Formats acceptés: JPG, PNG, GIF, WEBP");const a=s.name.substring(s.name.lastIndexOf(".")).toLowerCase();if(![".jpg",".jpeg",".png",".gif",".webp"].includes(a))return void j.error("Extension de fichier non autorisée. Extensions acceptées: JPG, PNG, GIF, WEBP");if(s.size>2097152)j.error("La taille du fichier dépasse la limite autorisée (2MB)");else try{const e=s.name.split("."),a=e.pop().toLowerCase(),r=`${e.join(".")}.${a}`,l=new File([s],r,{type:s.type}),t=new FormData;t.append("profile_picture",l),S(t,{onSuccess:()=>{j.success("Photo de profil mise à jour avec succès")},onError:()=>{j.error("Erreur lors de la mise à jour de la photo de profil")}})}catch(r){j.error("Erreur lors de la mise à jour de la photo de profil")}}}),e.jsx(c,{variant:"ghost",size:"icon",className:"absolute bottom-0 right-0 rounded-full p-1 sm:p-1.5 md:p-2 bg-white dark:bg-gray-700 shadow-sm hover:bg-gray-100 dark:hover:bg-gray-600",onClick:F,disabled:R,children:e.jsx($,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5"})}),k&&e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>b(!0),disabled:R,className:"absolute top-0 right-0 rounded-full p-1 sm:p-1.5 md:p-2 bg-white dark:bg-gray-700 shadow-sm hover:bg-red-50 hover:text-red-600 transition-colors",children:L.isPending?e.jsx(t,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5 animate-spin"}):e.jsx(_,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5"})})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-1",children:"Photo de profil"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Mettre à jour votre photo"})]}),e.jsx(m,{open:v,onOpenChange:e=>!L.isPending&&b(e),children:e.jsxs(u,{className:"max-h-[calc(100vh-2rem)] w-full max-w-md overflow-hidden rounded-2xl border-0 shadow-xl",children:[e.jsx("div",{className:"overflow-y-auto max-h-[70vh] fade-in-up",children:e.jsxs(h,{children:[e.jsx(p,{className:"text-xl font-semibold",children:"Confirmation de suppression"}),e.jsx(x,{className:"text-base mt-2",children:"Êtes-vous sûr de vouloir supprimer votre photo de profil ? Cette action est irréversible."})]})}),e.jsxs(f,{className:"mt-6 flex justify-end space-x-2",children:[e.jsx(c,{variant:"outline",onClick:()=>b(!1),disabled:L.isPending,className:"rounded-full border-2 hover:bg-gray-100 transition-all duration-200",children:"Annuler"}),e.jsx(c,{variant:"destructive",onClick:async()=>{try{b(!1),E(!0),C(),await P(null,{onSuccess:()=>{setTimeout((()=>{C()}),300)},onError:e=>{C(),j.error("Erreur lors de la suppression de la photo de profil")}})}catch(e){j.error("Erreur lors de la suppression de la photo de profil")}finally{E(!1)}},disabled:L.isPending,className:"rounded-full bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 transition-all duration-200 "+(L.isPending?"opacity-80":""),children:L.isPending?"Suppression...":"Supprimer"})]})]})})]})},de=()=>e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsx(g,{className:"h-10 w-48 mb-8"}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[e.jsx(g,{className:"h-24 w-24 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{className:"h-6 w-48"}),e.jsx(g,{className:"h-4 w-32"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{className:"h-16 w-full"}),e.jsx(g,{className:"h-16 w-full"}),e.jsx(g,{className:"h-16 w-full"}),e.jsx(g,{className:"h-16 w-full"})]}),e.jsx(g,{className:"h-16 w-full"}),e.jsx(g,{className:"h-16 w-full"}),e.jsxs("div",{className:"mt-8",children:[e.jsx(g,{className:"h-6 w-32 mb-4"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{className:"h-16 w-full"}),e.jsx(g,{className:"h-16 w-full"})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(g,{className:"h-10 w-48"})})]})}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsx(g,{className:"h-6 w-48 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(g,{className:"h-16 w-full"}),e.jsx(g,{className:"h-16 w-full"})]})]})]}),ne=({userData:s,editedData:a,editMode:r,isFieldEditable:l,toggleFieldEdit:t,handleCancelField:i,handleInputChange:d,onSave:o})=>e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-5 md:gap-6",children:[e.jsx("div",{className:"address-edit-card w-full",children:l("firstName")?e.jsx(Y,{field:"firstName",label:"Prénom",icon:e.jsx(n,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 text-gray-500"}),value:s.firstName,editedValue:a.personal.firstName,isEditing:r.firstName,isEditable:!0,onEdit:()=>t("firstName"),onSave:o,onCancel:()=>i("firstName"),onChange:e=>d("firstName",e)}):e.jsx(H,{label:"Prénom",icon:e.jsx(n,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 text-gray-500"}),value:s.firstName||"Non renseigné"})}),e.jsx("div",{className:"address-edit-card w-full",children:l("lastName")?e.jsx(Y,{field:"lastName",label:"Nom",icon:e.jsx(n,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 text-gray-500"}),value:s.lastName,editedValue:a.personal.lastName,isEditing:r.lastName,isEditable:!0,onEdit:()=>t("lastName"),onSave:o,onCancel:()=>i("lastName"),onChange:e=>d("lastName",e)}):e.jsx(H,{label:"Nom",icon:e.jsx(n,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 text-gray-500"}),value:s.lastName||"Non renseigné"})}),e.jsx("div",{className:"address-edit-card w-full",children:e.jsx(H,{label:"Date de naissance",icon:e.jsx(N,{className:"h-4 w-4 mr-2 text-blue-500"}),value:`${Z(s.birthDate)}${s.age?` (${s.age} ans)`:""}`})}),e.jsx("div",{className:"address-edit-card w-full",children:e.jsx(H,{label:"Nationalité",icon:e.jsx(w,{className:"h-4 w-4 mr-2 text-blue-500"}),value:s.nationality?.name||"Non renseignée"})})]}),oe=({userData:a,editedData:r,editMode:l,setEditMode:i,setEditedData:d,onSaveAddress:n,handleCancelAddress:o,isEditable:m=!0})=>{const u="address",h=l[u],p=a.addresses&&a.addresses.length>0?a.addresses[0]:null,[x,f]=s.useState(""),[g,N]=s.useState([]),[w,E]=s.useState(!1),[k,U]=s.useState(!1),D=s.useRef(null),C=s.useRef(null),[S,P]=s.useState(null);s.useEffect((()=>{const e=setTimeout((()=>{x&&(async e=>{if(!e||e.length<3)return N([]),void U(!1);E(!0);try{const s=await ee.searchAddress(e);N(s),U(s.length>0)}catch(s){console.error("Erreur lors de la recherche d'adresses:",s),j.error("Erreur lors de la recherche d'adresses")}finally{E(!1)}})(x)}),300);return()=>clearTimeout(e)}),[x]),s.useEffect((()=>{x.length>=3&&!S?U(g.length>0):U(!1)}),[x,g,S]),s.useEffect((()=>{const e=e=>{D.current&&!D.current.contains(e.target)&&C.current&&!C.current.contains(e.target)&&U(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const[M,L]=s.useState(!1);return e.jsxs("div",{className:`address-edit-card ${h?"":"bg-gray-50"} ${h?"":"hover:bg-gray-100"} mb-2 relative`,style:{minHeight:h?340:void 0,paddingBottom:h?0:void 0},children:[e.jsxs("label",{className:"peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-sm font-semibold text-gray-700 p-0 m-0 leading-none flex items-center mb-1",children:[e.jsx(v,{className:"h-4 w-4 mr-2 text-blue-500"}),"Votre adresse"]}),m&&!h&&e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>{i((e=>({...e,[u]:!e[u]})))},className:"absolute top-4 right-4 text-blue-600 hover:text-blue-700 hover:bg-blue-50 transition-colors",children:e.jsx(se,{className:"h-4 w-4"})}),e.jsx("div",{className:"mt-2",children:h?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"address-search",ref:C,value:x,onChange:e=>{f(e.target.value),P(null)},onFocus:()=>{L(!0)},onBlur:()=>{setTimeout((()=>L(!1)),200)},placeholder:"Rechercher une adresse...",className:"address-input w-full pl-10",autoComplete:"off"}),e.jsx(b,{className:"address-input-icon h-5 w-5",style:{top:"50%",transform:"translateY(-50%)"}}),w&&e.jsx(t,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-blue-500 animate-spin"}),k&&e.jsx("div",{ref:D,className:"address-suggestions",children:e.jsx("ul",{children:g.map(((s,a)=>e.jsxs("li",{className:"address-suggestion-item",style:{animationDelay:40*a+"ms"},onClick:()=>(e=>{d((s=>({...s,address:{name:e.houseNumber?`${e.houseNumber} ${e.street}`:e.street,complement:"",postalCode:{code:e.postcode},city:{name:e.city}}}))),f(e.label),P(e.label),N([]),U(!1)})(s),children:[e.jsx(v,{className:"h-4 w-4 mt-1 text-blue-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"address-suggestion-label",children:s.label}),s.context&&e.jsx("div",{className:"address-suggestion-context",children:s.context})]})]},a)))})})]}),x.length>0&&x.length<3&&e.jsx("div",{className:"address-help mt-1",children:"Veuillez saisir au moins 3 caractères pour la recherche"})]}),e.jsxs("div",{className:"address-fields-grid",children:[e.jsx("div",{className:"relative",children:e.jsx("input",{id:"address-line",value:r.address?.name||"",onChange:e=>d((s=>({...s,address:{...s.address,name:e.target.value}}))),placeholder:"Ligne d'adresse",className:"address-input w-full pl-10",required:!0})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"address-complement",value:r.address?.complement||"",onChange:e=>d((s=>({...s,address:{...s.address,complement:e.target.value}}))),placeholder:"Complément",className:"address-input w-full pl-10"}),e.jsx(re,{className:"address-input-icon h-5 w-5"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"address-postal",value:r.address?.postalCode?.code||"",onChange:e=>d((s=>({...s,address:{...s.address,postalCode:{code:e.target.value}}}))),placeholder:"Code postal",className:"address-input w-full pl-10",required:!0}),e.jsx(y,{className:"address-input-icon h-5 w-5"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"address-city",value:r.address?.city?.name||"",onChange:e=>d((s=>({...s,address:{...s.address,city:{name:e.target.value}}}))),placeholder:"Ville",className:"address-input w-full pl-10",required:!0}),e.jsx(le,{className:"address-input-icon h-5 w-5"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 mt-6 justify-end mb-0",children:[e.jsxs("button",{type:"button",onClick:async()=>{if(r.address?.name&&r.address?.postalCode?.code&&r.address?.city?.name)try{await n(),i((e=>({...e,[u]:!1}))),f(""),N([]),U(!1)}catch(e){j.error("Une erreur est survenue lors de l'enregistrement de l'adresse"),console.error("Erreur lors de l'enregistrement de l'adresse:",e)}else j.error("Veuillez remplir tous les champs obligatoires")},className:"address-btn-primary",children:[e.jsx("span",{children:"Enregistrer"}),e.jsx("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})]}),e.jsxs("button",{type:"button",onClick:o,className:"address-btn-secondary",children:[e.jsx("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),e.jsx("span",{children:"Annuler"})]})]})]}):e.jsx("div",{className:"flex items-center min-w-0",children:e.jsx("span",{className:"text-sm truncate flex-1 text-gray-900",children:p?X(p):e.jsx("span",{className:"text-gray-500 italic",children:"Aucune adresse renseignée"})})})})]})},ce=({userData:s,editedData:a,editMode:r,setEditedData:l,isFieldEditable:t,toggleFieldEdit:i,handleCancelField:d,handleInputChange:n,onSave:o,onSaveAddress:c,setEditMode:m})=>{const{user:u}=E();return u?.roles?.some((e=>"ROLE_ADMIN"===e||"ADMIN"===e||"ROLE_SUPER_ADMIN"===e||"SUPER_ADMIN"===e)),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5 sm:gap-6",children:[e.jsx("div",{className:"address-edit-card w-full",children:t("email")?e.jsx(Y,{field:"email",label:"Email",icon:e.jsx(y,{className:"h-4 w-4 mr-2 text-gray-500 dark:text-gray-300"}),value:s.email,editedValue:a.personal.email,type:"email",isEditing:r.email,isEditable:!0,onEdit:()=>i("email"),onSave:o,onCancel:()=>d("email"),onChange:e=>n("email",e)}):e.jsx(H,{label:"Email",icon:e.jsx(y,{className:"h-4 w-4 mr-2 text-gray-500 dark:text-gray-300"}),value:s.email||"Non renseigné"})}),e.jsx("div",{className:"address-edit-card w-full",children:t("phoneNumber")?e.jsx(Y,{field:"phoneNumber",label:"Téléphone",icon:e.jsx(ae,{className:"h-4 w-4 mr-2 text-gray-500"}),value:s.phoneNumber,editedValue:a.personal.phoneNumber,type:"phone",isEditing:r.phoneNumber,isEditable:!0,onEdit:()=>i("phoneNumber"),onSave:o,onCancel:()=>d("phoneNumber"),onChange:e=>n("phoneNumber",e)}):e.jsx(H,{label:"Téléphone",icon:e.jsx(ae,{className:"h-4 w-4 mr-2 text-gray-500"}),value:s.phoneNumber||"Non renseigné"})}),e.jsx("div",{className:"address-edit-card w-full",children:t("address")?e.jsx(oe,{userData:s,editedData:a,editMode:r,setEditMode:m,setEditedData:l,onSaveAddress:c,handleCancelAddress:()=>{const e=s.addresses&&s.addresses.length>0?s.addresses[0]:null;l((s=>({...s,address:e?{name:e.name||"",complement:e.complement||"",postalCode:{code:e.postalCode?.code||""},city:{name:e.city?.name||""}}:{name:"",complement:"",postalCode:{code:""},city:{name:""}}}))),m((e=>({...e,address:!1})))},isEditable:!0}):e.jsx(H,{label:"Adresse",icon:e.jsx(v,{className:"h-4 w-4 mr-2 text-blue-500 flex-shrink-0"}),value:s.addresses&&Array.isArray(s.addresses)&&s.addresses.length>0?X(s.addresses[0]):"Aucune adresse renseignée"})})]})},me=({userData:a,studentProfile:r,editedData:l,editMode:t,isStudent:i,isAdmin:d,toggleFieldEdit:n,handleCancelField:o,handleInputChange:c,onSave:m})=>{const[u,h]=s.useState(!1),[p,x]=s.useState(""),f=s.useMemo((()=>r?.portfolioUrl||""),[r?.portfolioUrl]);s.useEffect((()=>{x(f)}),[f]),s.useEffect((()=>{const e=e=>{void 0!==e.detail?.portfolioUrl&&x(e.detail.portfolioUrl)};return window.addEventListener("portfolio-updated",e),()=>{window.removeEventListener("portfolio-updated",e)}}),[]);return e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5 sm:gap-6",children:[e.jsx("div",{className:"address-edit-card w-full",children:e.jsx(H,{label:"Domaine",icon:e.jsx(k,{className:"h-4 w-4 mr-2 text-blue-500"}),value:a.specialization?.domain?.name||"Non renseigné"})}),e.jsx("div",{className:"address-edit-card w-full",children:e.jsx(H,{label:"Spécialisation",icon:e.jsx(U,{className:"h-4 w-4 mr-2 text-blue-500"}),value:a.specialization?.name||"Non renseignée"})}),e.jsx("div",{className:"address-edit-card w-full",children:e.jsx(Y,{field:"linkedinUrl",label:"LinkedIn",icon:e.jsx(D,{className:"h-4 w-4"}),value:t.linkedinUrl?l.personal.linkedinUrl:a.linkedinUrl||"",editedValue:l.personal.linkedinUrl,type:"text",placeholder:"Lien complet ou identifiant",isEditing:t.linkedinUrl,isEditable:!0,displayAsLink:!0,onEdit:()=>{const e=a.linkedinUrl||"";c("linkedinUrl",e||"https://www.linkedin.com/in/"),n("linkedinUrl")},onSave:()=>{const e=(e=>{if(!e)return"";let s=e.trim();if(/^[a-zA-Z0-9._-]{3,100}$/.test(s))return`https://www.linkedin.com/in/${s}`;const a=s.match(/linkedin\.com\/in\/([a-zA-Z0-9._-]{3,100})/);if(a&&a[1])return`https://www.linkedin.com/in/${a[1]}`;const r=s.match(/\/in\/([a-zA-Z0-9._-]{3,100})/);return r&&r[1]?`https://www.linkedin.com/in/${r[1]}`:/^https?:\/\/(www\.)?linkedin\.com\/in\/[a-zA-Z0-9._-]{3,100}\/?$/.test(s)?s.replace(/\/$/,""):(j.error("Format LinkedIn invalide. Entrez uniquement l'identifiant ou le lien complet."),null)})(l.personal.linkedinUrl);null!==e&&(c("linkedinUrl",e),e!==a.linkedinUrl?m("linkedinUrl",e):n("linkedinUrl"))},onCancel:()=>o("linkedinUrl"),onChange:e=>{t.linkedinUrl&&!a.linkedinUrl&&e.length<28?c("linkedinUrl","https://www.linkedin.com/in/"):c("linkedinUrl",e)}})}),i&&e.jsx("div",{className:"address-edit-card w-full",children:e.jsx(Y,{field:"portfolioUrl",label:"Portfolio",icon:e.jsx(w,{className:"h-4 w-4"}),value:p,editedValue:l.personal.portfolioUrl,type:"url",isEditing:t.portfolioUrl,isEditable:!0,onEdit:()=>{c("portfolioUrl",p),n("portfolioUrl")},onSave:()=>(async e=>{try{if(h(!0),e&&!e.startsWith("https://"))return j.error("L'URL du portfolio doit commencer par https://"),void h(!1);x(e),c("portfolioUrl",e);const s=await C.updatePortfolioUrl(e);s&&s.success?(m("portfolioUrl",e),S(e),j.success("Portfolio mis à jour avec succès"),r&&(r.portfolioUrl=e)):(x(f),j.error("Une erreur est survenue lors de la mise à jour du portfolio"))}catch(s){x(f),j.error(s.message||"Une erreur est survenue lors de la mise à jour du portfolio")}finally{h(!1)}})(l.personal.portfolioUrl),onCancel:()=>{o("portfolioUrl"),x(f)},onChange:e=>c("portfolioUrl",e),loading:u})}),i&&e.jsx("div",{className:"address-edit-card w-full",children:e.jsx(H,{label:"Situation actuelle",icon:e.jsx(k,{className:"h-4 w-4 mr-2 text-blue-500"}),value:r?.situationType?.name||"Non renseignée"})})]})},ue=({userData:a,editMode:r,setEditMode:l,editedData:t,setEditedData:i,userRole:d,onSave:o,onSaveAddress:c,onUploadIdentity:m,isLoading:u=!1})=>{const{user:h}=E();if(u)return e.jsx(de,{});const{isStudent:p,isAdmin:x,studentProfile:f,isFieldEditable:g,handleInputChange:N,toggleFieldEdit:w,handleCancelField:v}=(({userData:e,userRole:a,editMode:r,setEditMode:l,editedData:t,setEditedData:i,currentUser:d})=>{const n="ROLE_STUDENT"===a,o="ROLE_SUPER_ADMIN"===a||"SUPER_ADMIN"===a||"SUPERADMIN"===a,c=s.useCallback((()=>["ROLE_ADMIN","ROLE_SUPER_ADMIN","ADMIN","SUPER_ADMIN","SUPERADMIN"].includes(a)),[a])(),m="ROLE_GUEST"===a||"GUEST"===a,u=e?.studentProfile||{},h=s.useCallback((s=>{if(o)return!0;if(c)return!0;if("address"===s)return!(!m||e?.id!==d?.id);const a=["phoneNumber","linkedinUrl"];return n&&a.push("portfolioUrl"),a.includes(s)}),[c,n,m,o,e?.id,d?.id]),p=e=>{if(!e)return!0;try{const s=new Date(e);if(isNaN(s.getTime()))return!1;const a=new Date,r=new Date(a);return r.setFullYear(a.getFullYear()-16),s<=r}catch(s){return!1}};return{isStudent:n,isAdmin:c,isSuperAdmin:o,isGuest:m,studentProfile:u,isFieldEditable:h,handleInputChange:(e,s)=>{"birthDate"!==e||p(s)?i((a=>({...a,personal:{...a.personal,[e]:s}}))):j.error("Vous devez avoir au moins 16 ans pour vous inscrire.")},toggleFieldEdit:e=>{l((s=>({...s,[e]:!s[e]})))},handleCancelField:s=>{i((a=>({...a,personal:{...a.personal,[s]:"portfolioUrl"===s?u?.portfolioUrl??"":e[s]??""}}))),l((e=>({...e,[s]:!1})))},handleCancelAddress:()=>{const s=e.addresses&&e.addresses.length>0?e.addresses[0]:null;i((e=>({...e,address:s?{name:s.name||"",complement:s.complement||"",postalCode:{code:s.postalCode?.code||""},city:{name:s.city?.name||""}}:{name:"",complement:"",postalCode:{code:""},city:{name:""}}}))),l((e=>({...e,address:!1})))},validateMinimumAge:p}})({userData:a,userRole:d,editMode:r,setEditMode:l,editedData:t,setEditedData:i,currentUser:h});return s.useEffect((()=>{if(a){const e={firstName:a.firstName??"",lastName:a.lastName??"",email:a.email??"",phoneNumber:a.phoneNumber??"",linkedinUrl:a.linkedinUrl??"",portfolioUrl:f?.portfolioUrl??""},s=a.addresses&&a.addresses.length>0?a.addresses[0]:null;r.address?i((s=>JSON.stringify(s.personal)!==JSON.stringify(e)?{...s,personal:e}:s)):i((a=>{const r=JSON.stringify(a.personal)!==JSON.stringify(e),l=s?{name:s.name||"",complement:s.complement||"",postalCode:{code:s.postalCode?.code||""},city:{name:s.city?.name||""}}:{name:"",complement:"",postalCode:{code:""},city:{name:""}},t=JSON.stringify(a.address)!==JSON.stringify(l);return r||t?{...a,personal:e,address:l}:a}))}}),[a?.id,f?.portfolioUrl]),s.useEffect((()=>{const e=e=>{const s=e.detail?.portfolioUrl;void 0!==s&&(i((e=>({...e,personal:{...e.personal,portfolioUrl:s}}))),f&&(f.portfolioUrl=s))};return window.addEventListener("portfolio-updated",e),()=>{window.removeEventListener("portfolio-updated",e)}}),[f,i]),console.log("RENDER PersonalInformation",{userData:a,editMode:r}),e.jsxs("div",{className:"space-y-6 sm:space-y-8 w-full px-1 sm:px-2 md:px-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold flex items-center mb-3 sm:mb-5 text-gray-800 dark:text-gray-100",children:[e.jsx(n,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1.5 sm:mr-2 text-blue-600 dark:text-[#78b9dd]"}),e.jsxs("span",{className:"relative",children:["Informations personnelles",e.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-blue-600 dark:bg-[#78b9dd]"})]})]}),e.jsx(ne,{userData:a,editedData:t,editMode:r,isFieldEditable:g,toggleFieldEdit:w,handleCancelField:v,handleInputChange:N,onSave:o})]}),e.jsx(W,{className:"my-6 sm:my-8 bg-gray-200 dark:bg-gray-700"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold flex items-center mb-3 sm:mb-5 text-gray-800 dark:text-gray-100",children:[e.jsx(ae,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1.5 sm:mr-2 text-blue-600 dark:text-[#78b9dd]"}),e.jsxs("span",{className:"relative",children:["Coordonnées",e.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-blue-600 dark:bg-[#78b9dd]"})]})]}),e.jsx(ce,{userData:a,editedData:t,editMode:r,setEditedData:i,isFieldEditable:g,toggleFieldEdit:w,handleCancelField:v,handleInputChange:N,onSave:o,onSaveAddress:c,setEditMode:l})]}),e.jsx(W,{className:"my-6 sm:my-8 bg-gray-200 dark:bg-gray-700"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold flex items-center mb-3 sm:mb-5 text-gray-800 dark:text-gray-100",children:[e.jsx(k,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1.5 sm:mr-2 text-blue-600 dark:text-[#78b9dd]"}),e.jsxs("span",{className:"relative",children:["Ma carrière",e.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-blue-600 dark:bg-[#78b9dd]"})]})]}),e.jsx(me,{userData:a,studentProfile:f,editedData:t,editMode:r,isStudent:p,isAdmin:x,toggleFieldEdit:w,handleCancelField:v,handleInputChange:N,onSave:o})]})]})},he=()=>{const r=z(),[l,t]=s.useState({personal:!1,address:!1,academic:!1}),[i,d]=s.useState({personal:{firstName:"",lastName:"",email:"",phoneNumber:"",linkedinUrl:"",portfolioUrl:"",nationality:"",birthDate:""},address:{},academic:{}}),{user:n,isLoading:o,isError:m,error:u,forceRefresh:h}=P({refetchOnWindowFocus:!0,refetchOnMount:!0,staleTime:0,cacheTime:3e5,onError:e=>{j.error("Failed to load profile data: "+(e.message||"Unknown error"))}}),p=a.useMemo((()=>n?{data:{user:n,addresses:n.addresses||[],studentProfile:n.studentProfile||null}}:null),[n]),{userRole:x,isStudent:f}=a.useMemo((()=>{const e=n?.roles||[],s=Array.isArray(e)?e:"object"==typeof e?Object.values(e):[],a=s.some((e=>"string"==typeof e&&e.includes("STUDENT")))||n?.studentProfile&&Object.keys(n?.studentProfile||{}).length>0;let r="";if(a)r="ROLE_STUDENT";else if(s.length>0){const e=s[0];r="object"==typeof e&&null!==e&&e.name?e.name:String(e)}return{userRole:r,isStudent:a}}),[n?.roles,n?.studentProfile]);s.useEffect((()=>{if(!Object.values(l).some(Boolean)&&n&&Object.keys(n).length>0){const e={firstName:n.firstName??"",lastName:n.lastName??"",email:n.email??"",phoneNumber:n.phoneNumber??"",linkedinUrl:n.linkedinUrl??"",portfolioUrl:n.studentProfile?.portfolioUrl??"",nationality:n.nationality??"",birthDate:n.birthDate??""};JSON.stringify(e)!==JSON.stringify(i.personal)&&d((s=>({...s,personal:e,address:{},academic:{}})))}}),[p,l]),s.useEffect((()=>{const e=e=>{if(void 0!==e.detail?.portfolioUrl){const s=e.detail.portfolioUrl;i.personal.portfolioUrl!==s&&d((e=>({...e,personal:{...e.personal,portfolioUrl:s}})))}};return window.addEventListener("portfolio-url-updated",e),()=>{window.removeEventListener("portfolio-url-updated",e)}}),[i.personal.portfolioUrl]);const g=s.useCallback(((e,s)=>{"portfolioUrl"===e?(d((e=>({...e,personal:{...e.personal,portfolioUrl:s}}))),n&&n.studentProfile&&(n.studentProfile={...n.studentProfile,portfolioUrl:s},window.dispatchEvent(new CustomEvent("portfolio-update-local",{detail:{portfolioUrl:s}})))):(d((a=>({...a,personal:{...a.personal,[e]:s}}))),n&&(n[e]=s,"birthDate"===e&&s&&(n.age=(e=>{if(!e)return null;try{const s=new Date(e);if(isNaN(s.getTime()))return null;const a=new Date,r=a.getFullYear()-s.getFullYear();return a.getMonth()>s.getMonth()||a.getMonth()===s.getMonth()&&a.getDate()>=s.getDate()?r:r-1}catch(s){return null}})(s))))}),[n]),N=async e=>{try{const s=i.personal[e];if("linkedinUrl"===e&&console.log(`handleSavePersonal - linkedinUrl value: ${JSON.stringify(s)}`),"birthDate"===e&&s){const e=new Date(s),a=new Date,r=new Date(a);if(r.setFullYear(a.getFullYear()-16),e>r)return void j.error("Vous devez avoir au moins 16 ans pour vous inscrire.")}if("email"===e&&s&&!q(s))return void j.error("Format d'email invalide");if("phoneNumber"===e&&s&&!V(s))return void j.error("Format de numéro de téléphone invalide");if(("firstName"===e||"lastName"===e)&&s&&!J(s))return void j.error(`Format de ${"firstName"===e?"prénom":"nom"} invalide. Utilisez uniquement des lettres, espaces, tirets et apostrophes.`);if("linkedinUrl"===e&&s&&!Q(s))return void j.error("L'URL LinkedIn doit commencer par 'https://www.linkedin.com/in/'");if("portfolioUrl"===e&&s&&!B(s))return void j.error("L'URL du portfolio doit commencer par 'https://'");await T.updateProfile({[e]:s}),g(e,s),t((s=>({...s,[e]:!1}))),document.dispatchEvent(new CustomEvent("user:data-updated")),j.success(`${e} mis à jour avec succès`)}catch(s){"portfolioUrl"===e&&f?(g("portfolioUrl",p?.data?.studentProfile?.portfolioUrl||null),j.error("Erreur lors de la mise à jour de l'URL du portfolio")):(g(e,p?.data?.user?.[e]||null),j.error(`Erreur lors de la mise à jour de ${e}`))}},{mutate:w}=M("/api/profile","put","userProfileData",{onMutate:async e=>{await r.cancelQueries({queryKey:["userProfileData"]});return{previousData:r.getQueryData(["userProfileData"])}},onSuccess:(e,s)=>{j.success("Informations mises à jour avec succès")},onError:(e,s,a)=>{r.setQueryData(["userProfileData"],a.previousData),j.error("Une erreur est survenue lors de la mise à jour du profil")},onSettled:()=>{r.invalidateQueries({queryKey:["userProfileData"]})}}),{mutate:v}=M("/api/student/profile/portfolio-url","put","userProfileData",{onMutate:async e=>{await r.cancelQueries({queryKey:["userProfileData"]});return{previousData:r.getQueryData(["userProfileData"])}},onSuccess:async(e,s)=>{j.success("URL du portfolio mise à jour avec succès"),await r.invalidateQueries({queryKey:["unified-user-data"]}),setTimeout((()=>h()),300),window.dispatchEvent(new CustomEvent("portfolio-url-updated",{detail:{portfolioUrl:s.portfolioUrl}}))},onError:(e,s,a)=>{r.setQueryData(["userProfileData"],a.previousData),j.error(e.response?.data?.message||"L'URL du portfolio doit commencer par 'https://'")},onSettled:()=>{r.invalidateQueries({queryKey:["userProfileData"]}),r.invalidateQueries({queryKey:["profile"]}),r.invalidateQueries({queryKey:["unified-user-data"]})}}),[b,y]=s.useState(null),[E,k]=s.useState(0),U=s.useCallback((e=>{}),[]);return o?e.jsx(pe,{}):m?e.jsx("div",{className:"space-y-6 bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"Error Loading Profile"}),e.jsx("p",{className:"text-gray-600 mb-4",children:u?.response?.data?.message||u?.message||"An unexpected error occurred"}),e.jsx(c,{onClick:()=>h(),children:"Try Again"})]})}):e.jsxs("div",{className:"space-y-4 sm:space-y-6 w-full",children:[e.jsx(L,{className:"overflow-hidden w-full",children:e.jsx("div",{className:"flex flex-col xs:flex-row items-center p-2 xs:p-3",children:e.jsx(ie,{userData:n,onProfilePictureChange:U,isLoading:o})})}),e.jsxs(L,{className:"overflow-hidden w-full",children:[e.jsxs(A,{className:"px-4 sm:px-6 md:px-8 py-3 sm:py-4",children:[e.jsx(F,{className:"text-lg sm:text-xl",children:"Informations personnelles"}),e.jsx(R,{className:"text-xs sm:text-sm",children:"Mettre à jour vos informations personnelles"})]}),e.jsx(I,{className:"px-3 sm:px-4 md:px-6 pb-6",children:e.jsx(ue,{userData:n,editMode:l,setEditMode:t,editedData:i,setEditedData:d,userRole:x,onSave:N,onSaveAddress:async()=>{try{const e=i.address,s={name:e.name?.trim()||"",complement:e.complement?.trim()||null,postalCode:{code:e.postalCode?.code?.trim()||""},city:{name:e.city?.name?.trim()||""}};if(!s.name||!s.postalCode.code||!s.city.name)return void j.error("Veuillez remplir tous les champs obligatoires");const a={...s,id:n.addresses?.[0]?.id};await T.updateAddress(a),j.success("Adresse mise à jour avec succès"),await r.invalidateQueries({queryKey:["userProfileData"]}),await h()}catch(e){j.error("Erreur lors de la mise à jour de l'adresse")}},children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"nationality",children:"Nationalité"}),e.jsx(K,{id:"nationality",value:i.personal.nationality||"",onChange:e=>N("nationality"),disabled:!l.personal,placeholder:"Votre nationalité"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"birthDate",children:"Date de naissance"}),e.jsx(K,{id:"birthDate",type:"date",value:i.personal.birthDate||"",onChange:e=>N("birthDate"),disabled:!l.personal})]})]})})})]})]})},pe=()=>e.jsxs("div",{className:"space-y-4 sm:space-y-6 w-full",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden w-full",children:[e.jsxs("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-5 border-b",children:[e.jsx(g,{className:"h-5 sm:h-6 w-36 sm:w-48 mb-2"}),e.jsx(g,{className:"h-3 sm:h-4 w-48 sm:w-64"})]}),e.jsxs("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6",children:[e.jsxs("div",{className:"flex flex-col xs:flex-row items-center justify-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"h-20 w-20 sm:h-24 sm:w-24 md:h-32 md:w-32 rounded-full"}),e.jsx(g,{className:"absolute bottom-0 right-0 w-6 sm:w-8 h-6 sm:h-8 rounded-full"})]}),e.jsxs("div",{className:"mt-3 xs:mt-0 xs:ml-3",children:[e.jsx(g,{className:"h-4 sm:h-5 w-32 mb-2"}),e.jsx(g,{className:"h-3 w-40"})]})]}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx(g,{className:"h-8 sm:h-9 w-24 sm:w-28"})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden w-full",children:[e.jsxs("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-5 border-b",children:[e.jsx(g,{className:"h-5 sm:h-6 w-48 sm:w-64 mb-2"}),e.jsx(g,{className:"h-3 sm:h-4 w-56 sm:w-80"})]}),e.jsx("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6",children:e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{className:"h-4 sm:h-5 w-24 sm:w-32"}),e.jsx(g,{className:"h-9 sm:h-10 w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{className:"h-4 sm:h-5 w-24 sm:w-32"}),e.jsx(g,{className:"h-9 sm:h-10 w-full"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{className:"h-4 sm:h-5 w-24 sm:w-32"}),e.jsx(g,{className:"h-9 sm:h-10 w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{className:"h-4 sm:h-5 w-24 sm:w-32"}),e.jsx(g,{className:"h-9 sm:h-10 w-full"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{className:"h-4 sm:h-5 w-24 sm:w-32"}),e.jsx(g,{className:"h-9 sm:h-10 w-full"})]}),e.jsxs("div",{className:"pt-3 sm:pt-4",children:[e.jsx(g,{className:"h-5 sm:h-6 w-24 sm:w-32 mb-3 sm:mb-4"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx(g,{className:"h-9 sm:h-10 w-full"}),e.jsx(g,{className:"h-9 sm:h-10 w-full"})]})]}),e.jsx("div",{className:"flex justify-end mt-4 sm:mt-6",children:e.jsx(g,{className:"h-9 sm:h-10 w-32 sm:w-48"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden w-full",children:[e.jsxs("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-5 border-b",children:[e.jsx(g,{className:"h-5 sm:h-6 w-36 sm:w-48 mb-2"}),e.jsx(g,{className:"h-3 sm:h-4 w-48 sm:w-64"})]}),e.jsx("div",{className:"px-4 sm:px-6 md:px-8 py-4 sm:py-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx(g,{className:"h-9 sm:h-10 w-full"}),e.jsx(g,{className:"h-9 sm:h-10 w-full"})]})})]})]}),xe=a.memo((()=>{const{loadUserData:a}=E(),r=s.useCallback((async()=>{try{await a();const e=O.getUser();e&&document.dispatchEvent(new CustomEvent("user:data-updated",{detail:{user:e}}))}catch(e){console.error("Error refreshing user data:",e)}}),[a]);return s.useEffect((()=>(r(),()=>{})),[]),console.log("RENDER SettingsProfile"),e.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Mon compte"}),e.jsx(he,{})]})}));export{xe as default};
