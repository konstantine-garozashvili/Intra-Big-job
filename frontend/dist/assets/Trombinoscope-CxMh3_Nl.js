import{j as e}from"./ui-B9MhWaVJ.js";import{r,L as a}from"./router-D7BdrHDj.js";import{b as t}from"./query-DKQ6_O-p.js";import{s,a7 as l,a as d,a8 as i,a9 as n,aa as x,F as c,Y as o,ab as m,T as b,ac as u,G as g,M as h,I as p,U as k}from"./index-Bd05LC-l.js";import{L as N}from"./loader-circle-BrSWE4DC.js";import{C as f}from"./circle-alert-DkC07JJn.js";import"./react-0RZ2pslC.js";import"./charts-DkICKEBk.js";
/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=s("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),y=s("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),w=s("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),v=s("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),E=async(e={})=>{try{return(await l.get("/api/users/list",{params:{...e}})).data}catch(r){throw r}},R=e=>({STUDENT:"text-blue-500",TEACHER:"text-emerald-500",HR:"text-purple-500",ADMIN:"text-amber-500",SUPER_ADMIN:"text-red-500",RECRUITER:"text-pink-500",GUEST:"text-blue-300"}[e]||"text-gray-500"),T=e=>({STUDENT:"Étudiant",TEACHER:"Professeur",HR:"RH",ADMIN:"Administrateur",SUPER_ADMIN:"Super Admin",RECRUITER:"Recruteur",GUEST:"Invité"}[e]||e),U=({selectedRole:a,setSelectedRole:t,uniqueRoles:s})=>{const[l,d]=r.useState(!1),i={STUDENT:"bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:hover:bg-blue-800",TEACHER:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-200 dark:hover:bg-emerald-800",HR:"bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-200 dark:hover:bg-purple-800",ADMIN:"bg-amber-100 text-amber-700 hover:bg-amber-200 dark:bg-amber-900 dark:text-amber-200 dark:hover:bg-amber-800",SUPER_ADMIN:"bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900 dark:text-red-200 dark:hover:bg-red-800",RECRUITER:"bg-pink-100 text-pink-700 hover:bg-pink-200 dark:bg-pink-900 dark:text-pink-200 dark:hover:bg-pink-800",GUEST:"bg-blue-50 text-blue-300 hover:bg-blue-100 dark:bg-blue-800 dark:text-blue-200 dark:hover:bg-blue-700"},n={STUDENT:"text-blue-600",TEACHER:"text-emerald-600",HR:"text-purple-600",ADMIN:"text-amber-600",SUPER_ADMIN:"text-red-600",RECRUITER:"text-pink-600",GUEST:"text-blue-300"},x=e=>i[e]||"bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:hover:bg-blue-800",c=e=>n[e]||"text-blue-600";return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>d(!l),className:`px-4 py-2.5 rounded-lg flex items-center justify-between w-full transition-all ${a?x(a):"bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:hover:bg-blue-800"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{className:`w-5 h-5 ${a?c(a):"text-blue-600"}`}),e.jsx("span",{children:a?T(a):"Filtrer par rôle"})]}),e.jsx(m,{className:"w-5 h-5 transition-transform "+(l?"rotate-180":"")})]}),l&&e.jsx("div",{className:"absolute right-0 mt-1 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50",children:e.jsx("div",{className:"p-2",children:s.map((r=>e.jsxs("button",{onClick:()=>{t(r),d(!1)},className:`w-full flex items-center space-x-3 px-3 py-2.5 rounded-lg transition-colors ${a===r?"bg-blue-500 text-white":x(r)}`,children:[e.jsx(b,{className:`w-5 h-5 ${a===r?"text-white":c(r)}`}),e.jsx("span",{children:T(r)})]},r)))})})]})},A=({sortOption:a,setSortOption:t})=>{const[s,l]=r.useState(!1),d={nameAsc:"bg-blue-100 text-blue-800 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:hover:bg-blue-800",nameDesc:"bg-blue-100 text-blue-800 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:hover:bg-blue-800"};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>l(!s),className:`px-4 py-2.5 rounded-lg flex items-center justify-between w-full transition-all ${a?d[a]:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:["nameAsc"===a?e.jsx(y,{className:"w-5 h-5 text-blue-500"}):"nameDesc"===a?e.jsx(j,{className:"w-5 h-5 text-blue-500"}):e.jsx(y,{className:"w-5 h-5 text-gray-500"}),e.jsx("span",{children:a?{nameAsc:"Nom A-Z",nameDesc:"Nom Z-A"}[a]:"Trier par"})]}),e.jsx(m,{className:"w-5 h-5 transition-transform "+(s?"rotate-180":"")})]}),s&&e.jsx("div",{className:"absolute right-0 mt-1 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50",children:e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{onClick:()=>{t("nameAsc"),l(!1)},className:`w-full flex items-center space-x-3 px-3 py-2.5 rounded-lg transition-colors ${"nameAsc"===a?"bg-blue-500 text-white":d.nameAsc}`,children:[e.jsx(y,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{children:"Nom A-Z"})]}),e.jsxs("button",{onClick:()=>{t("nameDesc"),l(!1)},className:`w-full flex items-center space-x-3 px-3 py-2.5 rounded-lg transition-colors ${"nameDesc"===a?"bg-blue-500 text-white":d.nameDesc}`,children:[e.jsx(j,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{children:"Nom Z-A"})]})]})})]})},S=({layout:a,setLayout:t})=>{const[s,l]=r.useState(!1),d={card:"bg-blue-100 text-blue-800 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:hover:bg-blue-800",list:"bg-blue-100 text-blue-800 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:hover:bg-blue-800",compact:"bg-blue-100 text-blue-800 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:hover:bg-blue-800"},i={card:e.jsx(w,{className:"w-5 h-5"}),list:e.jsx(v,{className:"w-5 h-5"}),compact:e.jsx(w,{className:"w-5 h-5"})};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>l(!s),className:`px-4 py-2.5 rounded-lg flex items-center justify-between w-full transition-all ${a?d[a]:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[a?i[a]:e.jsx(w,{className:"w-5 h-5 text-gray-500"}),e.jsx("span",{children:a?{card:"Grille",list:"Liste",compact:"Compact"}[a]:"Vue"})]}),e.jsx(m,{className:"w-5 h-5 transition-transform "+(s?"rotate-180":"")})]}),s&&e.jsx("div",{className:"absolute right-0 mt-1 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50",children:e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{onClick:()=>{t("card"),l(!1)},className:`w-full flex items-center space-x-3 px-3 py-2.5 rounded-lg transition-colors ${"card"===a?"bg-blue-500 text-white":d.card}`,children:[e.jsx(w,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{children:"Grille"})]}),e.jsxs("button",{onClick:()=>{t("list"),l(!1)},className:`w-full flex items-center space-x-3 px-3 py-2.5 rounded-lg transition-colors ${"list"===a?"bg-blue-500 text-white":d.list}`,children:[e.jsx(v,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{children:"Liste"})]}),e.jsxs("button",{onClick:()=>{t("compact"),l(!1)},className:`w-full flex items-center space-x-3 px-3 py-2.5 rounded-lg transition-colors ${"compact"===a?"bg-blue-500 text-white":d.compact}`,children:[e.jsx(w,{className:"w-5 h-5 text-blue-500"}),e.jsx("span",{children:"Compact"})]})]})})]})},C=({user:r,onClose:t})=>{const s=r.addresses?.[0],l=r.city||s?.city?.name||s?.city||"Non renseignée",d=r.userRoles?.map((e=>e.role.name))||[];return d.some((e=>"object"==typeof e?"STUDENT"===e.name:"STUDENT"===e)),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-[500px] h-[400px] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Détails de l'utilisateur"}),e.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(o,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:u(r.profilePicturePath),alt:`${r.firstName} ${r.lastName}`,className:"w-36 h-36 rounded-full object-cover shadow-lg shadow-blue-100 dark:shadow-blue-900 transition-transform duration-300 hover:scale-110",onError:e=>{e.target.onerror=null,e.target.src="/default-avatar.png"}})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white relative inline-block mb-4",children:[e.jsxs("span",{className:"relative z-10 px-4",children:[r.firstName," ",r.lastName]}),e.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-blue-600 rounded-lg px-4"})]}),e.jsxs("p",{className:"text-base text-gray-500 dark:text-gray-400 mb-2 flex items-center",children:[e.jsx(g,{className:"w-4 h-4 mr-2 text-blue-500"}),r.email]}),e.jsxs("p",{className:"text-base text-gray-500 dark:text-gray-400 mb-4 flex items-center",children:[e.jsx(h,{className:"w-4 h-4 mr-2 text-blue-500"}),l]}),r.specialization&&e.jsxs("p",{className:"text-base text-gray-500 dark:text-gray-400 mb-4 flex items-center",children:[e.jsx(p,{className:"w-4 h-4 mr-2 text-blue-500"}),r.specialization.domain?.name&&`${r.specialization.domain.name} • `,r.specialization.name]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:d.map(((r,a)=>e.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full flex items-center "+("STUDENT"===r?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"TEACHER"===r?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200":"HR"===r?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"ADMIN"===r?"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200":"SUPER_ADMIN"===r||"SUPERADMIN"===r?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"RECRUITER"===r?"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200":"GUEST"===r?"bg-blue-50 text-blue-300 dark:bg-blue-800 dark:text-blue-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"),children:[e.jsx(b,{className:"w-3 h-3 mr-1 "+("STUDENT"===r?"text-blue-500":"TEACHER"===r?"text-emerald-500":"HR"===r?"text-purple-500":"ADMIN"===r?"text-amber-500":"SUPER_ADMIN"===r||"SUPERADMIN"===r?"text-red-500":"RECRUITER"===r?"text-pink-500":"GUEST"===r?"text-blue-300":"text-gray-500")}),T(r)]},a)))}),e.jsxs(a,{to:`/profile/${r.id}`,className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Voir le profil complet"]})]})]})]})})})},D=({user:r,onClick:a})=>{const t=r.userRoles?.map((e=>e.role.name))||[];return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 hover:shadow-lg shadow-blue-100 transition-all duration-300 cursor-pointer hover:scale-105 aspect-square flex flex-col items-center justify-between",onClick:()=>a(r),children:e.jsxs("div",{className:"w-full flex flex-col items-center space-y-6",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:u(r.profilePicturePath),alt:`${r.firstName} ${r.lastName}`,className:"w-24 h-24 rounded-full object-cover shadow-md shadow-blue-100 dark:shadow-blue-900",onError:e=>{e.target.onerror=null,e.target.src="/default-avatar.png"}})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("h3",{className:"text-base font-semibold text-white relative inline-block mb-2",children:[e.jsxs("span",{className:"relative z-10 px-3",children:[r.firstName," ",r.lastName]}),e.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-blue-600 rounded-lg px-3"})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:t.map(((r,a)=>e.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full flex items-center "+("STUDENT"===r?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"TEACHER"===r?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200":"HR"===r?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"ADMIN"===r?"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200":"SUPER_ADMIN"===r||"SUPERADMIN"===r?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"RECRUITER"===r?"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200":"GUEST"===r?"bg-blue-50 text-blue-300 dark:bg-blue-800 dark:text-blue-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"),children:[e.jsx(b,{className:"w-3 h-3 mr-1 "+("STUDENT"===r?"text-blue-500":"TEACHER"===r?"text-emerald-500":"HR"===r?"text-purple-500":"ADMIN"===r?"text-amber-500":"SUPER_ADMIN"===r||"SUPERADMIN"===r?"text-red-500":"RECRUITER"===r?"text-pink-500":"GUEST"===r?"text-blue-300":"text-gray-500")}),T(r)]},a)))})]})]})})},M=()=>{const[a,s]=r.useState(""),[l,m]=r.useState(null),[g,h]=r.useState(null),[p,k]=r.useState("card"),[j,y]=r.useState("nameAsc"),{hasRole:w,hasAnyRole:v}=d(),{allowedSearchRoles:M}=i(),{data:I,isLoading:$,error:H}=t({queryKey:["users","all"],queryFn:E}),P=r.useMemo((()=>{if(!I)return[];const e=I.flatMap((e=>e.userRoles?.map((e=>e.role.name)).filter((e=>"GUEST"===e||M.includes(e)))));return[...new Set(e)||[]]}),[I,M]),G=r.useMemo((()=>{if(!I)return[];const e=I.filter((e=>(e=>{const r=a.toLowerCase();return e.firstName.toLowerCase().includes(r)||e.lastName.toLowerCase().includes(r)||e.email.toLowerCase().includes(r)})(e)&&(e=>!g||e.userRoles?.some((e=>e.role.name===g)))(e)));return w(n.ADMIN)||w(n.SUPERADMIN)?e:e.filter((e=>{const r=e.userRoles?.map((e=>e.role.name))||[];return w(n.STUDENT)?r.some((e=>["TEACHER","STUDENT","RECRUITER","HR"].includes(e))):w(n.HR)?r.some((e=>["TEACHER","STUDENT","RECRUITER"].includes(e))):w(n.RECRUITER)?r.some((e=>["TEACHER","STUDENT"].includes(e))):w(n.TEACHER)?r.some((e=>["STUDENT","HR"].includes(e))):w(n.GUEST)?r.some((e=>["RECRUITER"].includes(e))):!r.some((e=>["ADMIN","SUPERADMIN","SUPER_ADMIN"].includes(e)))}))}),[I,a,g,w,v]),z=r.useMemo((()=>{if(!G)return[];switch(j){case"nameAsc":return[...G].sort(((e,r)=>`${e.firstName} ${e.lastName}`.localeCompare(`${r.firstName} ${r.lastName}`)));case"nameDesc":return[...G].sort(((e,r)=>`${r.firstName} ${r.lastName}`.localeCompare(`${e.firstName} ${e.lastName}`)));default:return G}}),[G,j]),L=e=>({STUDENT:"bg-blue-100 text-blue-800 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:hover:bg-blue-800",TEACHER:"bg-emerald-100 text-emerald-800 hover:bg-emerald-200 dark:bg-emerald-900 dark:text-emerald-200 dark:hover:bg-emerald-800",HR:"bg-purple-100 text-purple-800 hover:bg-purple-200 dark:bg-purple-900 dark:text-purple-200 dark:hover:bg-purple-800",ADMIN:"bg-amber-100 text-amber-800 hover:bg-amber-200 dark:bg-amber-900 dark:text-amber-200 dark:hover:bg-amber-800",SUPER_ADMIN:"bg-red-100 text-red-800 hover:bg-red-200 dark:bg-red-900 dark:text-red-200 dark:hover:bg-red-800",RECRUITER:"bg-pink-100 text-pink-800 hover:bg-pink-200 dark:bg-pink-900 dark:text-pink-200 dark:hover:bg-pink-800",GUEST:"bg-blue-50 text-blue-300 hover:bg-blue-100 dark:bg-blue-800 dark:text-blue-200 dark:hover:bg-blue-700"}[e]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200");return $?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(N,{className:"w-8 h-8 animate-spin text-blue-500"})}):H?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-red-500",children:[e.jsx(f,{className:"w-8 h-8 mb-2"}),e.jsx("p",{children:"Une erreur est survenue lors du chargement des utilisateurs"})]}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex flex-col space-y-4 mb-8",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{className:"w-6 h-6 text-blue-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Trombinoscope"})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Rechercher un utilisateur...",value:a,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),e.jsx("div",{className:"flex-1 hidden md:block"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:gap-2",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:e.jsx(S,{layout:p,setLayout:k})}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2 md:mt-0",children:e.jsx(A,{sortOption:j,setSortOption:y})}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 md:mt-0",children:[e.jsx(U,{selectedRole:g,setSelectedRole:h,uniqueRoles:P}),g&&e.jsxs("button",{onClick:()=>{h(null)},className:"px-3 py-1.5 rounded-lg flex items-center space-x-2 transition-colors bg-gray-100 text-gray-800 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700",children:[e.jsx(o,{className:"w-4 h-4"}),e.jsx("span",{children:"Effacer le filtre"})]})]})]})]}),0===z?.length?e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Aucun utilisateur trouvé"}):e.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900 dark:to-blue-800 p-8 rounded-xl",children:(()=>{switch(p){case"list":return e.jsx("div",{className:"space-y-4",children:z?.map((r=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>m(r),children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsx("img",{src:u(r.profilePicturePath),alt:`${r.firstName} ${r.lastName}`,className:"w-10 h-10 rounded-full",onError:e=>{e.target.onerror=null,e.target.src="/default-avatar.png"}}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white",children:[r.firstName," ",r.lastName]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.email})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.userRoles?.map(((r,a)=>e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center ${L(r.role.name)}`,children:[e.jsx(b,{className:`w-3 h-3 mr-1 ${R(r.role.name)}`}),T(r.role.name)]},a)))})]},r.id)))});case"compact":return e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2",children:z?.map((r=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>m(r),children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:u(r.profilePicturePath),alt:`${r.firstName} ${r.lastName}`,className:"w-16 h-16 rounded-full",onError:e=>{e.target.onerror=null,e.target.src="/default-avatar.png"}}),e.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mt-1",children:[r.firstName," ",r.lastName]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:r.userRoles?.map(((r,a)=>e.jsxs("span",{className:`px-1.5 py-0.5 text-xs font-medium rounded ${L(r.role.name)}`,children:[e.jsx(b,{className:`w-2.5 h-2.5 mr-1 ${R(r.role.name)}`}),T(r.role.name)]},a)))})]})},r.id)))});default:return e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:z?.map((r=>e.jsx(D,{user:r,onClick:m},r.id)))})}})()}),l&&e.jsx(C,{user:l,onClose:()=>m(null)})]})})};export{M as default};
