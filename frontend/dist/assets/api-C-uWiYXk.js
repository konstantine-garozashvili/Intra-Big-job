import{X as e}from"./index-BMLMJrKU.js";const t={searchAddress:async(t,r=5)=>{if(!t||t.length<3)return[];const s=t.trim();if(!/^\d{5}$/.test(s)){if(/^\d+$/.test(s)&&s.length<5)return[];if(1===s.split(/\s+/).length&&s.length<4)return[]}try{const t={q:s,limit:r,autocomplete:1};console.log("[adresseApi.searchAddress] Sending query:",s,"Params:",t);const o=await e.get("/search",{params:t});return o.data&&o.data.features&&0!==o.data.features.length?o.data.features.map((e=>{const t=e.properties||{};return{id:t.id||`temp-${Math.random()}`,label:t.label||"",houseNumber:t.housenumber||"",street:t.street||"",postcode:t.postcode||"",city:t.city||"",context:t.context||"",coordinates:e.geometry?.coordinates||[0,0],score:t.score||0}})):[]}catch(o){return[]}},reverseGeocode:async(t,r)=>{try{const s=await e.get("/reverse",{params:{lon:t,lat:r}});if(0===s.data.features.length)return null;const o=s.data.features[0];return{id:o.properties.id,label:o.properties.label,houseNumber:o.properties.housenumber||"",street:o.properties.street||"",postcode:o.properties.postcode||"",city:o.properties.city||"",context:o.properties.context||"",coordinates:o.geometry.coordinates}}catch(s){return console.error("Erreur lors de la g√©olocalisation inverse:",s),null}}};export{t as a};
