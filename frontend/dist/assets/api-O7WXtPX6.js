import{R as e}from"./index-Bd05LC-l.js";const t={searchAddress:async(t,r=5)=>{if(!t||t.length<3)return[];const o=t.trim();if(!/^\d{5}$/.test(o)){if(/^\d+$/.test(o)&&o.length<5)return[];if(1===o.split(/\s+/).length&&o.length<4)return[]}try{const t={q:o,limit:r,autocomplete:1},s=await e.get("/search",{params:t});return s.data&&s.data.features&&0!==s.data.features.length?s.data.features.map((e=>{const t=e.properties||{};return{id:t.id||`temp-${Math.random()}`,label:t.label||"",houseNumber:t.housenumber||"",street:t.street||"",postcode:t.postcode||"",city:t.city||"",context:t.context||"",coordinates:e.geometry?.coordinates||[0,0],score:t.score||0}})):[]}catch(s){return[]}},reverseGeocode:async(t,r)=>{try{const o=await e.get("/reverse",{params:{lon:t,lat:r}});if(0===o.data.features.length)return null;const s=o.data.features[0];return{id:s.properties.id,label:s.properties.label,houseNumber:s.properties.housenumber||"",street:s.properties.street||"",postcode:s.properties.postcode||"",city:s.properties.city||"",context:s.properties.context||"",coordinates:s.geometry.coordinates}}catch(o){return console.error("Erreur lors de la g√©olocalisation inverse:",o),null}}};export{t as a};
