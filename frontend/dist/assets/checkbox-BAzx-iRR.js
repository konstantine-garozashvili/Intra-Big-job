import{t as e,E as t,j as r,n as s,o as a,y as n,q as o,Y as c,Z as d}from"./ui-B5ZVMT00.js";import{r as i}from"./router-Cgxi-4fo.js";import{f as l,i as u}from"./index-2R14kkJt.js";var f="Checkbox",[p,b]=s(f),[h,m]=p(f),k=i.forwardRef(((s,o)=>{const{__scopeCheckbox:c,name:d,checked:l,defaultChecked:u,required:p,disabled:b,value:m="on",onCheckedChange:k,form:x,...y}=s,[w,g]=i.useState(null),E=e(o,(e=>g(e))),N=i.useRef(!1),R=!w||(x||!!w.closest("form")),[_,q]=t({prop:l,defaultProp:u??!1,onChange:k,caller:f}),D=i.useRef(_);return i.useEffect((()=>{const e=w?.form;if(e){const t=()=>q(D.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[w,q]),r.jsxs(h,{scope:c,state:_,disabled:b,children:[r.jsx(a.button,{type:"button",role:"checkbox","aria-checked":C(_)?"mixed":_,"aria-required":p,"data-state":j(_),"data-disabled":b?"":void 0,disabled:b,value:m,...y,ref:E,onKeyDown:n(s.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:n(s.onClick,(e=>{q((e=>!!C(e)||!e)),R&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())}))}),R&&r.jsx(v,{control:w,bubbles:!N.current,name:d,value:m,checked:_,required:p,disabled:b,form:x,style:{transform:"translateX(-100%)"},defaultChecked:!C(u)&&u})]})}));k.displayName=f;var x="CheckboxIndicator",y=i.forwardRef(((e,t)=>{const{__scopeCheckbox:s,forceMount:n,...c}=e,d=m(x,s);return r.jsx(o,{present:n||C(d.state)||!0===d.state,children:r.jsx(a.span,{"data-state":j(d.state),"data-disabled":d.disabled?"":void 0,...c,ref:t,style:{pointerEvents:"none",...e.style}})})}));y.displayName=x;var v=i.forwardRef((({__scopeCheckbox:t,control:s,checked:n,bubbles:o=!0,defaultChecked:l,...u},f)=>{const p=i.useRef(null),b=e(p,f),h=c(n),m=d(s);i.useEffect((()=>{const e=p.current;if(!e)return;const t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(h!==n&&r){const t=new Event("click",{bubbles:o});e.indeterminate=C(n),r.call(e,!C(n)&&n),e.dispatchEvent(t)}}),[h,n,o]);const k=i.useRef(!C(n)&&n);return r.jsx(a.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??k.current,...u,tabIndex:-1,ref:b,style:{...u.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})}));function C(e){return"indeterminate"===e}function j(e){return C(e)?"indeterminate":e?"checked":"unchecked"}v.displayName="CheckboxBubbleInput";var w=k,g=y;const E=i.forwardRef((({className:e,...t},s)=>r.jsx(w,{ref:s,className:l("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(g,{className:l("flex items-center justify-center text-current"),children:r.jsx(u,{className:"h-4 w-4"})})})));E.displayName=w.displayName;export{E as C};
