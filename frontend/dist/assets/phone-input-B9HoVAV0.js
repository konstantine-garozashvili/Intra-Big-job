import{j as t}from"./ui-CEgDFHEN.js";import{r as e}from"./router-Cgxi-4fo.js";import{f as r}from"./index-B9aMCT3a.js";import{L as s}from"./label-Bq-NQQwm.js";const n=t=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,63}))$/.test(String(t).toLowerCase()),a=t=>{const e=/[A-Z]/.test(t),r=/[a-z]/.test(t),s=/\d/.test(t),n=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t);return{isValid:t.length>=8&&e&&r&&s&&n,errors:{length:t.length<8,upperCase:!e,lowerCase:!r,digit:!s,specialChar:!n}}},i=t=>{if(!t)return!1;const e=t.replace(/\D/g,"");if(10===e.length&&e.startsWith("0"))return/^0[1-9]/.test(e);if(e.startsWith("33")&&11===e.length){const t="0"+e.substring(2);return/^0[1-9]/.test(t)}return e.startsWith("33")&&e.length,!1},l=t=>{let e=t?.replace(/\D/g,"")||"";if(e.startsWith("33"))return e=e.substring(0,11),11===e.length?`+33 ${e.substring(2,3)} ${e.substring(3,5)} ${e.substring(5,7)} ${e.substring(7,9)} ${e.substring(9,11)}`:`+33 ${e.substring(2)}`;if(e.startsWith("0")&&e.length<=10){if(e=e.substring(0,10),e.length>=2){let t=e.substring(0,2);return e.length>2&&(t+=` ${e.substring(2,4)}`),e.length>4&&(t+=` ${e.substring(4,6)}`),e.length>6&&(t+=` ${e.substring(6,8)}`),e.length>8&&(t+=` ${e.substring(8,10)}`),t}return e}return e},o=t=>{if(!t)return!1;const e=new Date,r=new Date(t),s=e.getFullYear()-r.getFullYear(),n=e.getMonth()>r.getMonth()||e.getMonth()===r.getMonth()&&e.getDate()>=r.getDate()?s:s-1;return n>=16&&n<=120},u=t=>{if(!t)return!1;try{const e=new URL(t);return!("https:"!==e.protocol||"www.linkedin.com"!==e.hostname||!e.pathname.startsWith("/in/"))}catch(e){return!1}},g=t=>{if(!t)return!1;try{return"https:"===new URL(t).protocol}catch(e){return!1}},c=t=>{if(!t)return!1;const e=t.trim();if(e.length<2)return!1;return/^[a-zA-ZÀ-ÿ\u00C0-\u017F\s\-']+$/.test(e)},h=e.forwardRef((({className:n,value:a="",onChange:o,error:u,label:g,id:c,placeholder:h="06 12 34 56 78",disabled:d=!1,...p},f)=>{const[b,m]=e.useState("");e.useEffect((()=>{if(a)if(a.startsWith("+33"))m(l(a));else if(a.startsWith("0")){const t=`+33${a.substring(1)}`;m(l(t)),o(t.replace(/\s/g,""))}else{const t=`+33${a}`;m(l(t)),o(t.replace(/\s/g,""))}else m("")}),[a]);const $=!a||i(a);return t.jsxs("div",{className:"w-full",children:[g&&t.jsx(s,{htmlFor:c,className:"block text-sm font-medium text-blue-300 mb-1",children:g}),t.jsx("input",{id:c,ref:f,type:"tel",value:b,onChange:t=>{const e=t.target.value;let r=(e.startsWith("+")?"+":"")+e.replace(/[^\d]/g,"");if("+330"===r)return void m("+33 ");if(!r.startsWith("+33")){if(r.startsWith("0")){const t=`+33${r.substring(1)}`,e=l(t),s=t.replace(/\s/g,"");return void(s.length<=12&&(m(e),o(s)))}if(/^\d+$/.test(r)){const t=`+33${r}`,e=l(t),s=t.replace(/\s/g,"");return void(s.length<=12&&(m(e),o(s)))}if("+"===r||"+3"===r||"+33"===r)return void m(r)}const s=l(r),n=s.replace(/[^\d+]/g,"").substring(0,12);n.length<=12&&(m(s),o(n))},className:r("w-full px-4 py-3 rounded-md border bg-gray-800/50 text-white placeholder-gray-400","focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",u||!$?"border-red-500":"border-gray-700",d&&"opacity-50 cursor-not-allowed",n),placeholder:h,disabled:d,inputMode:"numeric",autoComplete:"tel-national",name:"phoneNumber"}),u&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:u})]})}));h.displayName="PhoneInput";export{h as P,o as a,i as b,c,u as d,g as e,n as i,a as v};
