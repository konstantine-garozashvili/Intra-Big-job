import{j as t}from"./ui-B9MhWaVJ.js";import{r as e}from"./router-D7BdrHDj.js";import{c as s}from"./index-Bd05LC-l.js";import{L as r}from"./label-8eTlumoe.js";const n=t=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,63}))$/.test(String(t).toLowerCase()),i=t=>{const e=/[A-Z]/.test(t),s=/[a-z]/.test(t),r=/\d/.test(t),n=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t);return{isValid:t.length>=8&&e&&s&&r&&n,errors:{length:t.length<8,upperCase:!e,lowerCase:!s,digit:!r,specialChar:!n}}},a=t=>{if(!t)return!1;const e=t.replace(/\D/g,"");if(10===e.length&&e.startsWith("0"))return/^0[1-9]/.test(e);if(e.startsWith("33")&&11===e.length){const t="0"+e.substring(2);return/^0[1-9]/.test(t)}return!(e.startsWith("33")&&e.length>11)},o=t=>{let e=t.replace(/\D/g,"");return e.startsWith("33")?(e=e.substring(0,11),11===e.length?`+33 ${e.substring(2,4)} ${e.substring(4,6)} ${e.substring(6,8)} ${e.substring(8,10)} ${e.substring(10)}`:`+33 ${e.substring(2)}`):e.startsWith("0")&&e.length<=10?`${e.substring(0,2)} ${e.substring(2,4)} ${e.substring(4,6)} ${e.substring(6,8)} ${e.substring(8)}`:t},l=t=>{if(!t)return!1;const e=new Date,s=new Date(t),r=e.getFullYear()-s.getFullYear(),n=e.getMonth()>s.getMonth()||e.getMonth()===s.getMonth()&&e.getDate()>=s.getDate()?r:r-1;return n>=16&&n<=120},u=t=>{if(!t)return!1;try{const e=new URL(t);return!("https:"!==e.protocol||"www.linkedin.com"!==e.hostname||!e.pathname.startsWith("/in/"))}catch(e){return!1}},c=t=>{if(!t)return!1;try{return"https:"===new URL(t).protocol}catch(e){return!1}},g=t=>{if(!t)return!1;const e=t.trim();if(e.length<2)return!1;return/^[a-zA-ZÀ-ÿ\u00C0-\u017F\s\-']+$/.test(e)},d=e.forwardRef((({className:n,value:i="",onChange:l,error:u,label:c,id:g,placeholder:d="06 12 34 56 78",disabled:h=!1,...p},f)=>{const[b,m]=e.useState("");e.useEffect((()=>{if(i)if(i.startsWith("+33"))m(o(i));else if(i.startsWith("0")){const t=`+33${i.substring(1)}`;m(o(t)),l(t.replace(/\s/g,""))}else{const t=`+33${i}`;m(o(t)),l(t.replace(/\s/g,""))}else m("")}),[i]);const $=!i||a(i);return t.jsxs("div",{className:s("w-full space-y-1.5",n),...p,children:[c&&t.jsx(r,{htmlFor:g,children:c}),t.jsx("div",{className:s("phone-input-fr",u||!$?"error":"",h&&"opacity-50 pointer-events-none"),children:t.jsx("input",{id:g,ref:f,type:"tel",value:b,onChange:t=>{const e=t.target.value.replace(/[^\d\s+]/g,"");if(!e.startsWith("+33")){if(e.startsWith("0")){const t=`+33${e.substring(1)}`,s=o(t);return m(s),void l(t.replace(/\s/g,""))}const t=`+33${e}`,s=o(t);return m(s),void l(t.replace(/\s/g,""))}const s=o(e);m(s);const r=s.replace(/\s/g,"");l(r)},className:s("flex h-9 rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full"),placeholder:d,disabled:h,inputMode:"numeric",autoComplete:"tel-national",name:"phoneNumber"})}),u&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:u})]})}));d.displayName="PhoneInput";export{d as P,l as a,a as b,g as c,u as d,c as e,n as i,i as v};
